!function(){const t={},e=[["/buzzoola\\.com|plrjs\\.org/"],["doubleclick.net"],["rythm"],["/\\/apic\\//"]],r=new Map([["volley.ru",0],["animix.lol",1],["ya.ru",2],["mail.ru",3]]),n=new Map([]),o=new Map([["3igames.mail.ru",[3]],["account.mail.ru",[3]],["auto.mail.ru",[3]],["biz.mail.ru",[3]],["blog.mail.ru",[3]],["bonus.mail.ru",[3]],["calendar.mail.ru",[3]],["calls.mail.ru",[3]],["cloud.mail.ru",[3]],["connect.mail.ru",[3]],["deti.mail.ru",[3]],["dobro.mail.ru",[3]],["e.mail.ru",[3]],["finance.mail.ru",[3]],["gibdd.mail.ru",[3]],["health.mail.ru",[3]],["help.mail.ru",[3]],["hi-tech.mail.ru",[3]],["horo.mail.ru",[3]],["kino.mail.ru",[3]],["lady.mail.ru",[3]],["love.mail.ru",[3]],["mcs.mail.ru",[3]],["minigames.mail.ru",[3]],["my.mail.ru",[3]],["news.mail.ru",[3]],["o2.mail.ru",[3]],["octavius.mail.ru",[3]],["okminigames.mail.ru",[3]],["otvet.mail.ru",[3]],["pets.mail.ru",[3]],["player-smotri.mail.ru",[3]],["pogoda.mail.ru",[3]],["top.mail.ru",[3]],["touch.mail.ru",[3]],["tv.mail.ru",[3]],["vfokuse.mail.ru",[3]],["widgets.mail.ru",[3]]]);function i(e="",r="",n=""){const o=a(),i=o.makeLogPrefix("prevent-fetch",e,r,n),l=[];for(const t of o.String_split.call(e,/\s+/)){if(""===t)continue;const e=t.indexOf(":");let r,n;-1!==e?(r=t.slice(0,e),n=t.slice(e+1)):(r="url",n=t),l.push({key:r,pattern:o.initPattern(n,{canNegate:!0})})}const c={ok:[!1,!0],statusText:["","Not Found"],type:["basic","cors","default","error","opaque"]},u={statusText:{value:"OK"}};if(/^\{.*\}$/.test(n))try{Object.entries(JSON.parse(n)).forEach((([t,e])=>{void 0!==c[t]&&!1!==c[t].includes(e)&&(u[t]={value:e})}))}catch{}else""!==n&&c.type.includes(n)&&(u.type={value:n});s("fetch",(function(n){const{callArgs:s}=n,c=s[0]instanceof self.Request?s[0]:Object.assign({url:s[0]},s[1]);let p=!0;try{const t=new Map;for(const e in c){let r=c[e];if("string"!=typeof r)try{r=o.JSON_stringify(r)}catch{}"string"==typeof r&&t.set(e,r)}if(o.logLevel>1||""===e&&""===r){const e=Array.from(t).map((t=>`${t[0]}:${t[1]}`));o.uboLog(i,`Called: ${e.join("\n")}`)}if(""===e&&""===r)return n.reflect();p=0===l.length;for(const{key:e,pattern:r}of l)if(r.expect&&!1===t.has(e)||!1===o.testPattern(r,t.get(e))){p=!0;break}}catch{}return p?n.reflect():Promise.resolve(function(e,r){const n=a(),o=t=>{const e=[];let r=0;do{const t=n.Math_random().toString(36).slice(2);e.push(t),r+=t.length}while(r<t);return e.join(" ").slice(0,t)};if("true"===r)return o(10);if("emptyObj"===r)return"{}";if("emptyArr"===r)return"[]";if("emptyStr"===r)return"";if(r.startsWith("length:")){const t=/^length:(\d+)(?:-(\d+))?$/.exec(r);if(null===t)return"";const e=parseInt(t[1],10),i=n.Math_max(parseInt(t[2],10)||0,e)-e;return o(0|n.Math_min(e+i*n.Math_random(),5e5))}return r.startsWith("war:")?void 0===t.warOrigin?"":new Promise((e=>{const o=[t.warOrigin,"/",r.slice(4)],i=t.warSecret;void 0!==i&&o.push("?secret=",i);const s=new n.XMLHttpRequest;s.responseType="text",s.onloadend=t=>{e(t.target.responseText||"")},s.open("GET",o.join("")),s.send()})).catch((()=>"")):e?r:""}(!1,r)).then((t=>{o.uboLog(i,`Prevented with response "${t}"`);const e=new Response(t,{headers:{"Content-Length":t.length}}),r=Object.assign({url:{value:c.url}},u);return o.Object_defineProperties(e,r),e}))}))}function s(t="",e=""){let r=globalThis,n=t;for(;;){const t=n.indexOf(".");if(-1===t)break;if(r=r[n.slice(0,t)],r instanceof Object==0)return;n=n.slice(t+1)}const o=r[n];if("function"!=typeof o)return;void 0===s.CtorContext&&(s.ctorContexts=[],s.CtorContext=class{constructor(...t){this.init(...t)}init(t,e){return this.callFn=t,this.callArgs=e,this}reflect(){const t=Reflect.construct(this.callFn,this.callArgs);return this.callFn=this.callArgs=this.private=void 0,s.ctorContexts.push(this),t}static factory(...t){return 0!==s.ctorContexts.length?s.ctorContexts.pop().init(...t):new s.CtorContext(...t)}},s.applyContexts=[],s.ApplyContext=class{constructor(...t){this.init(...t)}init(t,e,r){return this.callFn=t,this.thisArg=e,this.callArgs=r,this}reflect(){const t=Reflect.apply(this.callFn,this.thisArg,this.callArgs);return this.callFn=this.thisArg=this.callArgs=this.private=void 0,s.applyContexts.push(this),t}static factory(...t){return 0!==s.applyContexts.length?s.applyContexts.pop().init(...t):new s.ApplyContext(...t)}});const i=o.toString(),a=function(){return i}.bind(null),l={apply:(t,r,n)=>e(s.ApplyContext.factory(t,r,n)),get:(t,e)=>"toString"===e?a:Reflect.get(t,e)};o.prototype?.constructor===o&&(l.construct=function(t,r){return e(s.CtorContext.factory(t,r))}),r[n]=new Proxy(o,l)}function a(){if(t.safeSelf)return t.safeSelf;const e=globalThis,r={Array_from:Array.from,Error:e.Error,Function_toStringFn:e.Function.prototype.toString,Function_toString:t=>r.Function_toStringFn.call(t),Math_floor:Math.floor,Math_max:Math.max,Math_min:Math.min,Math_random:Math.random,Object,Object_defineProperty:Object.defineProperty.bind(Object),Object_defineProperties:Object.defineProperties.bind(Object),Object_fromEntries:Object.fromEntries.bind(Object),Object_getOwnPropertyDescriptor:Object.getOwnPropertyDescriptor.bind(Object),RegExp:e.RegExp,RegExp_test:e.RegExp.prototype.test,RegExp_exec:e.RegExp.prototype.exec,Request_clone:e.Request.prototype.clone,String_fromCharCode:String.fromCharCode,String_split:String.prototype.split,XMLHttpRequest:e.XMLHttpRequest,addEventListener:e.EventTarget.prototype.addEventListener,removeEventListener:e.EventTarget.prototype.removeEventListener,fetch:e.fetch,JSON:e.JSON,JSON_parseFn:e.JSON.parse,JSON_stringifyFn:e.JSON.stringify,JSON_parse:(...t)=>r.JSON_parseFn.call(r.JSON,...t),JSON_stringify:(...t)=>r.JSON_stringifyFn.call(r.JSON,...t),log:console.log.bind(console),logLevel:0,makeLogPrefix(...t){return this.sendToLogger&&`[${t.join(" ⁝ ")}]`||""},uboLog(...t){if(void 0!==this.sendToLogger&&void 0!==t&&""!==t[0])return this.sendToLogger("info",...t)},uboErr(...t){if(void 0!==this.sendToLogger&&void 0!==t&&""!==t[0])return this.sendToLogger("error",...t)},escapeRegexChars:t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),initPattern(t,e={}){if(""===t)return{matchAll:!0,expect:!0};const r=!0!==e.canNegate||!1===t.startsWith("!");!1===r&&(t=t.slice(1));const n=/^\/(.+)\/([gimsu]*)$/.exec(t);return null!==n?{re:new this.RegExp(n[1],n[2]||e.flags),expect:r}:void 0!==e.flags?{re:new this.RegExp(this.escapeRegexChars(t),e.flags),expect:r}:{pattern:t,expect:r}},testPattern(t,e){return!!t.matchAll||(t.re?this.RegExp_test.call(t.re,e)===t.expect:e.includes(t.pattern)===t.expect)},patternToRegex(t,e,r=!1){if(""===t)return/^/;const n=/^\/(.+)\/([gimsu]*)$/.exec(t);if(null===n){const n=this.escapeRegexChars(t);return new RegExp(r?`^${n}$`:n,e)}try{return new RegExp(n[1],n[2]||void 0)}catch{}return/^/},getExtraArgs(t,e=0){const r=t.slice(e).reduce(((t,e,r,n)=>{if(0==(1&r)){const e=n[r+1],o=/^\d+$/.test(e)?parseInt(e,10):e;t.push([n[r],o])}return t}),[]);return this.Object_fromEntries(r)},onIdle:(t,r)=>e.requestIdleCallback?e.requestIdleCallback(t,r):e.requestAnimationFrame(t),offIdle:t=>e.requestIdleCallback?e.cancelIdleCallback(t):e.cancelAnimationFrame(t)};if(t.safeSelf=r,void 0===t.bcSecret)return r;r.logLevel=t.logLevel||1;let n="",o="",i=0;r.toLogText=(t,...e)=>{if(0===e.length)return;const r=`[${document.location.hostname||document.location.href}]${e.join(" ")}`;return r===o&&t===n&&Date.now()-i<5e3?void 0:(n=t,o=r,i=Date.now(),r)};try{const n=new e.BroadcastChannel(t.bcSecret);let o=[];r.sendToLogger=(t,...e)=>{const i=r.toLogText(t,...e);if(void 0!==i)return void 0===o?n.postMessage({what:"messageToLogger",type:t,text:i}):void o.push({type:t,text:i})},n.onmessage=t=>{switch(t.data){case"iamready!":if(void 0===o)break;o.forEach((({type:t,text:e})=>n.postMessage({what:"messageToLogger",type:t,text:e}))),o=void 0;break;case"setScriptletLogLevelToOne":r.logLevel=1;break;case"setScriptletLogLevelToTwo":r.logLevel=2}},n.postMessage("areyouready?")}catch{r.sendToLogger=(t,...e)=>{const n=r.toLogText(t,...e);void 0!==n&&r.log(`uBO ${n}`)}}return r}const l=[];try{let t=document.location.origin;if("null"===t){const e=document.location.ancestorOrigins;for(let r=0;r<e.length&&(t=e[r],"null"===t);r++);}const e=t.lastIndexOf("://");if(-1===e)return;l.push(...t.slice(e+3).split("."))}catch(t){}const c=l.length;if(0===c)return;const u=new Set,p=[];if(0!==o.size){for(let t=0;t<c;t++){const e=l.slice(t).join("."),r=o.get(e);r&&p.push(...r)}o.clear()}if(0!==r.size){const t=t=>{let e=r.get(t);if(void 0!==e){"number"==typeof e&&(e=[e]);for(const t of e)p.includes(t)||u.add(t)}};for(let e=0;e<c;e++)t(l.slice(e).join("."));t("*"),r.clear()}if(0!==n.size){const t=c-1;for(let e=0;e<t;e++)for(let r=t;r>e;r--){const t=l.slice(e,r).join(".");let o=n.get(t);if(void 0!==o){"number"==typeof o&&(o=[o]);for(const t of o)p.includes(t)||u.add(t)}}n.clear()}for(const t of u)try{i(...e[t])}catch(t){}e.length=0}();