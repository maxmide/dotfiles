(()=>{var e={78249:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(42480)}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},o=s.lib={},c=o.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=o.WordArray=c.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var s=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=s<<24-(r+a)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),l=s.enc={},d=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},h=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},f=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,a=r.sigBytes,s=this.blockSize,o=a/(4*s),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*s,l=e.min(4*c,a);if(c){for(var d=0;d<c;d+=s)this._doProcessBlock(i,d);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(o.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),r)},68214:function(e,t,n){var r;e.exports=(r=n(78249),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,s=t.algo,o=[];!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=s.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,s=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],y=e[t+5],g=e[t+6],v=e[t+7],b=e[t+8],_=e[t+9],w=e[t+10],x=e[t+11],k=e[t+12],S=e[t+13],O=e[t+14],E=e[t+15],j=a[0],A=a[1],T=a[2],P=a[3];j=u(j,A,T,P,s,7,o[0]),P=u(P,j,A,T,c,12,o[1]),T=u(T,P,j,A,f,17,o[2]),A=u(A,T,P,j,p,22,o[3]),j=u(j,A,T,P,m,7,o[4]),P=u(P,j,A,T,y,12,o[5]),T=u(T,P,j,A,g,17,o[6]),A=u(A,T,P,j,v,22,o[7]),j=u(j,A,T,P,b,7,o[8]),P=u(P,j,A,T,_,12,o[9]),T=u(T,P,j,A,w,17,o[10]),A=u(A,T,P,j,x,22,o[11]),j=u(j,A,T,P,k,7,o[12]),P=u(P,j,A,T,S,12,o[13]),T=u(T,P,j,A,O,17,o[14]),j=l(j,A=u(A,T,P,j,E,22,o[15]),T,P,c,5,o[16]),P=l(P,j,A,T,g,9,o[17]),T=l(T,P,j,A,x,14,o[18]),A=l(A,T,P,j,s,20,o[19]),j=l(j,A,T,P,y,5,o[20]),P=l(P,j,A,T,w,9,o[21]),T=l(T,P,j,A,E,14,o[22]),A=l(A,T,P,j,m,20,o[23]),j=l(j,A,T,P,_,5,o[24]),P=l(P,j,A,T,O,9,o[25]),T=l(T,P,j,A,p,14,o[26]),A=l(A,T,P,j,b,20,o[27]),j=l(j,A,T,P,S,5,o[28]),P=l(P,j,A,T,f,9,o[29]),T=l(T,P,j,A,v,14,o[30]),j=d(j,A=l(A,T,P,j,k,20,o[31]),T,P,y,4,o[32]),P=d(P,j,A,T,b,11,o[33]),T=d(T,P,j,A,x,16,o[34]),A=d(A,T,P,j,O,23,o[35]),j=d(j,A,T,P,c,4,o[36]),P=d(P,j,A,T,m,11,o[37]),T=d(T,P,j,A,v,16,o[38]),A=d(A,T,P,j,w,23,o[39]),j=d(j,A,T,P,S,4,o[40]),P=d(P,j,A,T,s,11,o[41]),T=d(T,P,j,A,p,16,o[42]),A=d(A,T,P,j,g,23,o[43]),j=d(j,A,T,P,_,4,o[44]),P=d(P,j,A,T,k,11,o[45]),T=d(T,P,j,A,E,16,o[46]),j=h(j,A=d(A,T,P,j,f,23,o[47]),T,P,s,6,o[48]),P=h(P,j,A,T,v,10,o[49]),T=h(T,P,j,A,O,15,o[50]),A=h(A,T,P,j,y,21,o[51]),j=h(j,A,T,P,k,6,o[52]),P=h(P,j,A,T,p,10,o[53]),T=h(T,P,j,A,w,15,o[54]),A=h(A,T,P,j,c,21,o[55]),j=h(j,A,T,P,b,6,o[56]),P=h(P,j,A,T,E,10,o[57]),T=h(T,P,j,A,g,15,o[58]),A=h(A,T,P,j,S,21,o[59]),j=h(j,A,T,P,m,6,o[60]),P=h(P,j,A,T,x,10,o[61]),T=h(T,P,j,A,f,15,o[62]),A=h(A,T,P,j,_,21,o[63]),a[0]=a[0]+j|0,a[1]=a[1]+A|0,a[2]=a[2]+T|0,a[3]=a[3]+P|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var o=this._hash,c=o.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,a,s){var o=e+(t&n|~t&r)+i+s;return(o<<a|o>>>32-a)+t}function l(e,t,n,r,i,a,s){var o=e+(t&r|n&~r)+i+s;return(o<<a|o>>>32-a)+t}function d(e,t,n,r,i,a,s){var o=e+(t^n^r)+i+s;return(o<<a|o>>>32-a)+t}function h(e,t,n,r,i,a,s){var o=e+(n^(t|~r))+i+s;return(o<<a|o>>>32-a)+t}t.MD5=a._createHelper(c),t.HmacMD5=a._createHmacHelper(c)}(Math),r.MD5)},42238:function(e,t,n){var r;!function(i,a){"use strict";var s="function",o="undefined",c="object",u="string",l="model",d="name",h="type",f="vendor",p="version",m="architecture",y="console",g="mobile",v="tablet",b="smarttv",_="wearable",w="embedded",x="Amazon",k="Apple",S="ASUS",O="BlackBerry",E="Firefox",j="Google",A="Huawei",T="LG",P="Microsoft",C="Motorola",I="Opera",N="Samsung",R="Sharp",D="Sony",Z="Xiaomi",B="Zebra",K="Facebook",M=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},F=function(e,t){return typeof e===u&&-1!==L(t).indexOf(L(e))},L=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===o?e:e.substring(0,350)},$=function(e,t){for(var n,r,i,o,u,l,d=0;d<t.length&&!u;){var h=t[d],f=t[d+1];for(n=r=0;n<h.length&&!u;)if(u=h[n++].exec(e))for(i=0;i<f.length;i++)l=u[++r],typeof(o=f[i])===c&&o.length>0?2===o.length?typeof o[1]==s?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:3===o.length?typeof o[1]!==s||o[1].exec&&o[1].test?this[o[0]]=l?l.replace(o[1],o[2]):a:this[o[0]]=l?o[1].call(this,l,o[2]):a:4===o.length&&(this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):a):this[o]=l||a;d+=2}},z=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(F(t[n][r],e))return"?"===n?a:n}else if(F(t[n],e))return"?"===n?a:n;return e},U={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,I]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[d,E]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,K],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,L]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",L]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,L]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[f,N],[h,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[f,N],[h,g]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[f,k],[h,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[f,k],[h,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[f,A],[h,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[f,A],[h,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[f,Z],[h,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[f,Z],[h,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[f,"OPPO"],[h,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[f,"Vivo"],[h,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[f,"Realme"],[h,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[f,C],[h,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[f,C],[h,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[f,T],[h,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[f,T],[h,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[f,"Lenovo"],[h,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[f,"Nokia"],[h,g]],[/(pixel c)\b/i],[l,[f,j],[h,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[f,j],[h,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[f,D],[h,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[f,D],[h,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[f,"OnePlus"],[h,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[f,x],[h,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[f,x],[h,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,f,[h,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[f,O],[h,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[f,S],[h,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[f,S],[h,g]],[/(nexus 9)/i],[l,[f,"HTC"],[h,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[l,/_/g," "],[h,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[f,"Acer"],[h,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[f,"Meizu"],[h,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[f,R],[h,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,l,[h,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,l,[h,v]],[/(surface duo)/i],[l,[f,P],[h,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[f,"Fairphone"],[h,g]],[/(u304aa)/i],[l,[f,"AT&T"],[h,g]],[/\bsie-(\w*)/i],[l,[f,"Siemens"],[h,g]],[/\b(rct\w+) b/i],[l,[f,"RCA"],[h,v]],[/\b(venue[\d ]{2,7}) b/i],[l,[f,"Dell"],[h,v]],[/\b(q(?:mv|ta)\w+) b/i],[l,[f,"Verizon"],[h,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[f,"Barnes & Noble"],[h,v]],[/\b(tm\d{3}\w+) b/i],[l,[f,"NuVision"],[h,v]],[/\b(k88) b/i],[l,[f,"ZTE"],[h,v]],[/\b(nx\d{3}j) b/i],[l,[f,"ZTE"],[h,g]],[/\b(gen\d{3}) b.+49h/i],[l,[f,"Swiss"],[h,g]],[/\b(zur\d{3}) b/i],[l,[f,"Swiss"],[h,v]],[/\b((zeki)?tb.*\b) b/i],[l,[f,"Zeki"],[h,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],l,[h,v]],[/\b(ns-?\w{0,9}) b/i],[l,[f,"Insignia"],[h,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[f,"NextBook"],[h,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],l,[h,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],l,[h,g]],[/\b(ph-1) /i],[l,[f,"Essential"],[h,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[f,"Envizen"],[h,v]],[/\b(trio[-\w\. ]+) b/i],[l,[f,"MachSpeed"],[h,v]],[/\btu_(1491) b/i],[l,[f,"Rotor"],[h,v]],[/(shield[\w ]+) b/i],[l,[f,"Nvidia"],[h,v]],[/(sprint) (\w+)/i],[f,l,[h,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[f,P],[h,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[f,B],[h,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[f,B],[h,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,l,[h,y]],[/droid.+; (shield) bui/i],[l,[f,"Nvidia"],[h,y]],[/(playstation [345portablevi]+)/i],[l,[f,D],[h,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[f,P],[h,y]],[/smart-tv.+(samsung)/i],[f,[h,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[f,N],[h,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,T],[h,b]],[/(apple) ?tv/i],[f,[l,"Apple TV"],[h,b]],[/crkey/i],[[l,"Chromecast"],[f,j],[h,b]],[/droid.+aft(\w)( bui|\))/i],[l,[f,x],[h,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[f,R],[h,b]],[/(bravia[\w ]+)( bui|\))/i],[l,[f,D],[h,b]],[/(mitv-\w{5}) bui/i],[l,[f,Z],[h,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[f,q],[l,q],[h,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,b]],[/((pebble))app/i],[f,l,[h,_]],[/droid.+; (glass) \d/i],[l,[f,j],[h,_]],[/droid.+; (wt63?0{2,3})\)/i],[l,[f,B],[h,_]],[/(quest( 2)?)/i],[l,[f,K],[h,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[h,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[h,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[h,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,z,U]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,z,U]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,p]]},V=function(e,t){if(typeof e===c&&(t=e,e=a),!(this instanceof V))return new V(e,t).getResult();var n=e||(typeof i!==o&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(W,t):W;return this.getBrowser=function(){var e,t={};return t.name=a,t.version=a,$.call(t,n,r.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:a,t},this.getCPU=function(){var e={};return e.architecture=a,$.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e.vendor=a,e.model=a,e.type=a,$.call(e,n,r.device),e},this.getEngine=function(){var e={};return e.name=a,e.version=a,$.call(e,n,r.engine),e},this.getOS=function(){var e={};return e.name=a,e.version=a,$.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>350?q(e,350):e,this},this.setUA(n),this};V.VERSION="1.0.32",V.BROWSER=M([d,p,"major"]),V.CPU=M([m]),V.DEVICE=M([l,f,h,y,g,b,v,_,w]),V.ENGINE=V.OS=M([d,p]),typeof t!==o?(e.exports&&(t=e.exports=V),t.UAParser=V):n.amdO?(r=function(){return V}.call(t,n,t,e))===a||(e.exports=r):typeof i!==o&&(i.UAParser=V);var H=typeof i!==o&&(i.jQuery||i.Zepto);if(H&&!H.ua){var X=new V;H.ua=X.getResult(),H.ua.get=function(){return X.getUA()},H.ua.set=function(e){X.setUA(e);var t=X.getResult();for(var n in t)H.ua[n]=t[n]}}}("object"==typeof window?window:this)},42480:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.amdO={},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,t=Object.keys,r=Array.isArray;function i(e,n){return"object"!=typeof n||t(n).forEach((function(t){e[t]=n[t]})),e}"undefined"==typeof Promise||e.Promise||(e.Promise=Promise);const a=Object.getPrototypeOf,s={}.hasOwnProperty;function o(e,t){return s.call(e,t)}function c(e,n){"function"==typeof n&&(n=n(a(e))),("undefined"==typeof Reflect?t:Reflect.ownKeys)(n).forEach((t=>{l(e,t,n[t])}))}const u=Object.defineProperty;function l(e,t,n,r){u(e,t,i(n&&o(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),l(e.prototype,"constructor",e),{extend:c.bind(null,e.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function f(e,t){let n;return h(e,t)||(n=a(e))&&f(n,t)}const p=[].slice;function m(e,t,n){return p.call(e,t,n)}function y(e,t){return t(e)}function g(e){if(!e)throw new Error("Assertion Failed")}function v(t){e.setImmediate?setImmediate(t):setTimeout(t,0)}function b(e,t){return e.reduce(((e,n,r)=>{var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function _(e,t){if("string"==typeof t&&o(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var a=_(e,t[r]);n.push(a)}return n}var s=t.indexOf(".");if(-1!==s){var c=e[t.substr(0,s)];return null==c?void 0:_(c,t.substr(s+1))}}function w(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){g("string"!=typeof n&&"length"in n);for(var i=0,a=t.length;i<a;++i)w(e,t[i],n[i])}else{var s=t.indexOf(".");if(-1!==s){var c=t.substr(0,s),u=t.substr(s+1);if(""===u)void 0===n?r(e)&&!isNaN(parseInt(c))?e.splice(c,1):delete e[c]:e[c]=n;else{var l=e[c];l&&o(e,c)||(l=e[c]={}),w(l,u,n)}}else void 0===n?r(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function x(e){var t={};for(var n in e)o(e,n)&&(t[n]=e[n]);return t}const k=[].concat;function S(e){return k.apply([],e)}const O="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(S([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((t=>e[t])),E=O.map((t=>e[t]));b(O,(e=>[e,!0]));let j=null;function A(e){j="undefined"!=typeof WeakMap&&new WeakMap;const t=T(e);return j=null,t}function T(e){if(!e||"object"!=typeof e)return e;let t=j&&j.get(e);if(t)return t;if(r(e)){t=[],j&&j.set(e,t);for(var n=0,i=e.length;n<i;++n)t.push(T(e[n]))}else if(E.indexOf(e.constructor)>=0)t=e;else{const n=a(e);for(var s in t=n===Object.prototype?{}:Object.create(n),j&&j.set(e,t),e)o(e,s)&&(t[s]=T(e[s]))}return t}const{toString:P}={};function C(e){return P.call(e).slice(8,-1)}const I="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",N="symbol"==typeof I?function(e){var t;return null!=e&&(t=e[I])&&t.apply(e)}:function(){return null},R={};function D(e){var t,n,i,a;if(1===arguments.length){if(r(e))return e.slice();if(this===R&&"string"==typeof e)return[e];if(a=N(e)){for(n=[];!(i=a.next()).done;)n.push(i.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Z="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var B="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function K(e,t){B=e,M=t}var M=()=>!0;const F=!new Error("").stack;function L(){if(F)try{throw L.arguments,new Error}catch(e){return e}return new Error}function q(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(M).map((e=>"\n"+e)).join("")):""}var $=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],z=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat($),U={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W(e,t){this._e=L(),this.name=e,this.message=t}function V(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function H(e,t,n,r){this._e=L(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=V(e,t)}function X(e,t){this._e=L(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=V(e,t)}d(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+q(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(H).from(W),d(X).from(W);var Y=z.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const G=W;var J=z.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=L(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=U[t]||n,this.inner=null)}return d(r).from(G),e[t]=r,e}),{});J.Syntax=SyntaxError,J.Type=TypeError,J.Range=RangeError;var Q=$.reduce(((e,t)=>(e[t+"Error"]=J[t],e)),{}),ee=z.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=J[t]),e)),{});function te(){}function ne(e){return e}function re(e,t){return null==e||e===ne?t:function(n){return t(e(n))}}function ie(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ae(e,t){return e===te?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ie(r,this.onsuccess):r),i&&(this.onerror=this.onerror?ie(i,this.onerror):i),void 0!==a?a:n}}function se(e,t){return e===te?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ie(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ie(r,this.onerror):r)}}function oe(e,t){return e===te?t:function(n){var r=e.apply(this,arguments);i(n,r);var a=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?ie(a,this.onsuccess):a),s&&(this.onerror=this.onerror?ie(s,this.onerror):s),void 0===r?void 0===o?void 0:o:i(r,o)}}function ce(e,t){return e===te?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ue(e,t){return e===te?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return n.then((function(){return t.apply(r,a)}))}return t.apply(this,arguments)}}ee.ModifyError=H,ee.DexieError=W,ee.BulkError=X;var le={};const[de,he,fe]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,a(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,a(t),e]})(),pe=he&&he.then,me=de&&de.constructor,ye=!!fe;var ge=!1,ve=fe?()=>{fe.then(Le)}:e.setImmediate?setImmediate.bind(null,Le):e.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Le(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Le,0)},be=function(e,t){Ae.push([e,t]),we&&(ve(),we=!1)},_e=!0,we=!0,xe=[],ke=[],Se=null,Oe=ne,Ee={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ht,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{ht(e[0],e[1])}catch(e){}}))}},je=Ee,Ae=[],Te=0,Pe=[];function Ce(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=te,this._lib=!1;var t=this._PSD=je;if(B&&(this._stackHolder=L(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==le)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&De(this,this._value))}this._state=null,this._value=null,++t.ref,Re(this,e)}const Ie={get:function(){var e=je,t=Ge;function n(n,r){var i=!e.global&&(e!==je||t!==Ge);const a=i&&!tt();var s=new Ce(((t,s)=>{Be(this,new Ne(ut(n,e,i,a),ut(r,e,i,a),t,s,e))}));return B&&Fe(s,this),s}return n.prototype=le,n},set:function(e){l(this,"then",e&&e.prototype===le?Ie:{get:function(){return e},set:Ie.set})}};function Ne(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Re(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&qe();t&&"function"==typeof t.then?Re(e,((e,n)=>{t instanceof Ce?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Ze(e)),n&&$e()}}),De.bind(null,e))}catch(t){De(e,t)}}function De(e,t){if(ke.push(t),null===e._state){var n=e._lib&&qe();t=Oe(t),e._state=!1,e._value=t,B&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=f(t,"stack");t._promise=e,l(t,"stack",{get:()=>ge?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){xe.some((t=>t._value===e._value))||xe.push(e)}(e),Ze(e),n&&$e()}}function Ze(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Be(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Te&&(++Te,be((()=>{0==--Te&&ze()}),[]))}function Be(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Te,be(Ke,[n,e,t])}else e._listeners.push(t)}function Ke(e,t,n){try{Se=t;var r,i=t._value;t._state?r=e(i):(ke.length&&(ke=[]),r=e(i),-1===ke.indexOf(i)&&function(e){for(var t=xe.length;t;)if(xe[--t]._value===e._value)return void xe.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Se=null,0==--Te&&ze(),--n.psd.ref||n.psd.finalize()}}function Me(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,a,s=e._value;null!=s?(i=s.name||"Error",a=s.message||s,r=q(s,0)):(i=s,a=""),t.push(i+(a?": "+a:"")+r)}return B&&((r=q(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Me(e._prev,t,n)),t}function Fe(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Le(){qe()&&$e()}function qe(){var e=_e;return _e=!1,we=!1,e}function $e(){var e,t,n;do{for(;Ae.length>0;)for(e=Ae,Ae=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ae.length>0);_e=!0,we=!0}function ze(){var e=xe;xe=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Pe.slice(0),n=t.length;n;)t[--n]()}function Ue(e){return new Ce(le,!1,e)}function We(e,t){var n=je;return function(){var r=qe(),i=je;try{return at(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{at(i,!1),r&&$e()}}}c(Ce.prototype,{then:Ie,_then:function(e,t){Be(this,new Ne(null,null,e,t,je))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Ue(e))):this.then(null,(e=>e&&e.name===t?n(e):Ue(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Ue(t))))},stack:{get:function(){if(this._stack)return this._stack;try{ge=!0;var e=Me(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ge=!1}}},timeout:function(e,t){return e<1/0?new Ce(((n,r)=>{var i=setTimeout((()=>r(new J.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&l(Ce.prototype,Symbol.toStringTag,"Dexie.Promise"),Ee.env=st(),c(Ce,{all:function(){var e=D.apply(null,arguments).map(nt);return new Ce((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((i,a)=>Ce.resolve(i).then((n=>{e[a]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Ce)return e;if(e&&"function"==typeof e.then)return new Ce(((t,n)=>{e.then(t,n)}));var t=new Ce(le,!0,e);return Fe(t,Se),t},reject:Ue,race:function(){var e=D.apply(null,arguments).map(nt);return new Ce(((t,n)=>{e.map((e=>Ce.resolve(e).then(t,n)))}))},PSD:{get:()=>je,set:e=>je=e},totalEchoes:{get:()=>Ge},newPSD:Qe,usePSD:ot,scheduler:{get:()=>be,set:e=>{be=e}},rejectionMapper:{get:()=>Oe,set:e=>{Oe=e}},follow:(e,t)=>new Ce(((n,r)=>Qe(((t,n)=>{var r=je;r.unhandleds=[],r.onunhandled=n,r.finalize=ie((function(){!function(e){Pe.push((function t(){e(),Pe.splice(Pe.indexOf(t),1)})),++Te,be((()=>{0==--Te&&ze()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),me&&(me.allSettled&&l(Ce,"allSettled",(function(){const e=D.apply(null,arguments).map(nt);return new Ce((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,i)=>Ce.resolve(e).then((e=>r[i]={status:"fulfilled",value:e}),(e=>r[i]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),me.any&&"undefined"!=typeof AggregateError&&l(Ce,"any",(function(){const e=D.apply(null,arguments).map(nt);return new Ce(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach(((e,a)=>Ce.resolve(e).then((e=>t(e)),(e=>{i[a]=e,--r||n(new AggregateError(i))}))))}))})));const Ve={awaits:0,echoes:0,id:0};var He=0,Xe=[],Ye=0,Ge=0,Je=0;function Qe(e,t,n,r){var a=je,s=Object.create(a);s.parent=a,s.ref=0,s.global=!1,s.id=++Je;var o=Ee.env;s.env=ye?{Promise:Ce,PromiseProp:{value:Ce,configurable:!0,writable:!0},all:Ce.all,race:Ce.race,allSettled:Ce.allSettled,any:Ce.any,resolve:Ce.resolve,reject:Ce.reject,nthen:lt(o.nthen,s),gthen:lt(o.gthen,s)}:{},t&&i(s,t),++a.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=ot(s,e,n,r);return 0===s.ref&&s.finalize(),c}function et(){return Ve.id||(Ve.id=++He),++Ve.awaits,Ve.echoes+=100,Ve.id}function tt(){return!!Ve.awaits&&(0==--Ve.awaits&&(Ve.id=0),Ve.echoes=100*Ve.awaits,!0)}function nt(e){return Ve.echoes&&e&&e.constructor===me?(et(),e.then((e=>(tt(),e)),(e=>(tt(),ft(e))))):e}function rt(e){++Ge,Ve.echoes&&0!=--Ve.echoes||(Ve.echoes=Ve.id=0),Xe.push(je),at(e,!0)}function it(){var e=Xe[Xe.length-1];Xe.pop(),at(e,!1)}function at(t,n){var r=je;if((n?!Ve.echoes||Ye++&&t===je:!Ye||--Ye&&t===je)||ct(n?rt.bind(null,t):it),t!==je&&(je=t,r===Ee&&(Ee.env=st()),ye)){var i=Ee.env.Promise,a=t.env;he.then=a.nthen,i.prototype.then=a.gthen,(r.global||t.global)&&(Object.defineProperty(e,"Promise",a.PromiseProp),i.all=a.all,i.race=a.race,i.resolve=a.resolve,i.reject=a.reject,a.allSettled&&(i.allSettled=a.allSettled),a.any&&(i.any=a.any))}}function st(){var t=e.Promise;return ye?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:he.then,gthen:t.prototype.then}:{}}function ot(e,t,n,r,i){var a=je;try{return at(e,!0),t(n,r,i)}finally{at(a,!1)}}function ct(e){pe.call(de,e)}function ut(e,t,n,r){return"function"!=typeof e?e:function(){var i=je;n&&et(),at(t,!0);try{return e.apply(this,arguments)}finally{at(i,!1),r&&ct(tt)}}}function lt(e,t){return function(n,r){return e.call(this,ut(n,t),ut(r,t))}}-1===(""+pe).indexOf("[native code]")&&(et=tt=te);const dt="unhandledrejection";function ht(t,n){var r;try{r=n.onuncatched(t)}catch(e){}if(!1!==r)try{var a,s={promise:n,reason:t};if(e.document&&document.createEvent?((a=document.createEvent("Event")).initEvent(dt,!0,!0),i(a,s)):e.CustomEvent&&i(a=new CustomEvent(dt,{detail:s}),s),a&&e.dispatchEvent&&(dispatchEvent(a),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(a)}catch(e){}B&&a&&!a.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch(e){}}var ft=Ce.reject;function pt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||je.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Y.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>pt(e,t,n,r)))):ft(i)}return i._promise(t,((e,t)=>Qe((()=>(je.trans=i,r(e,t,i)))))).then((e=>i._completion.then((()=>e))))}if(e._state.openComplete)return ft(new J.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ft(new J.DatabaseClosed);e.open().catch(te)}return e._state.dbReadyPromise.then((()=>pt(e,t,n,r)))}const mt="3.2.7",yt=String.fromCharCode(65535),gt=-1/0,vt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt="String expected.",_t=[],wt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xt=wt,kt=wt,St=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Ot="__dbnames",Et="readonly",jt="readwrite";function At(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Tt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Pt(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=A(t))[e],t)}class Ct{_trans(e,t,n){const r=this._tx||je.trans,i=this.name;function a(e,n,r){if(!r.schema[i])throw new J.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}const s=qe();try{return r&&r.db===this.db?r===je.trans?r._promise(e,a,n):Qe((()=>r._promise(e,a,n)),{trans:r,transless:je.transless||je}):pt(this.db,e,[this.name],a)}finally{s&&$e()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(r(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=t(e);if(1===n.length)return this.where(n[0]).equals(e[n[0]]);const i=this.schema.indexes.concat(this.schema.primKey).filter((e=>{if(e.compound&&n.every((t=>e.keyPath.indexOf(t)>=0))){for(let t=0;t<n.length;++t)if(-1===n.indexOf(e.keyPath[t]))return!1;return!0}return!1})).sort(((e,t)=>e.keyPath.length-t.keyPath.length))[0];if(i&&this.db._maxKey!==yt){const t=i.keyPath.slice(0,n.length);return this.where(t).equals(t.map((t=>e[t])))}!i&&B&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:a}=this.schema,s=this.db._deps.indexedDB;function o(e,t){try{return 0===s.cmp(e,t)}catch(e){return!1}}const[c,u]=n.reduce((([t,n],i)=>{const s=a[i],c=e[i];return[t||s,t||!s?At(n,s&&s.multi?e=>{const t=_(e,i);return r(t)&&t.some((e=>o(c,e)))}:e=>o(c,_(e,i))):n]}),[null,null]);return c?this.where(c.name).equals(e[c.keyPath]).filter(u):i?this.filter(u):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,r(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(o(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){i(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=Pt(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[i]}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{w(e,r,t)}catch(e){}return t}))}update(e,n){if("object"!=typeof e||r(e))return this.where(":id").equals(e).modify(n);{const r=_(e,this.schema.primKey.keyPath);if(void 0===r)return ft(new J.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof n?t(n).forEach((t=>{w(e,t,n[t])})):n(e,{value:e,primKey:r})}catch(e){}return this.where(":id").equals(r).modify(n)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let i=e;return r&&n&&(i=Pt(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[i],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{w(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Tt}))).then((e=>e.numFailures?Ce.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new J.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let o=a&&n?e.map(Pt(a)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:o,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new X(`${this.name}.bulkAdd(): ${e} of ${s} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,i=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:a}=this.schema.primKey;if(a&&r)throw new J.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");const s=e.length;let o=a&&n?e.map(Pt(a)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:o,wantResults:i}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return i?t:n;throw new X(`${this.name}.bulkPut(): ${e} of ${s} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new X(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function It(e){var n={},i=function(t,r){if(r){for(var i=arguments.length,a=new Array(i-1);--i;)a[i-1]=arguments[i];return n[t].subscribe.apply(null,a),e}if("string"==typeof t)return n[t]};i.addEventType=o;for(var a=1,s=arguments.length;a<s;++a)o(arguments[a]);return i;function o(e,a,s){if("object"!=typeof e){var c;a||(a=ce),s||(s=te);var u={subscribers:[],fire:s,subscribe:function(e){-1===u.subscribers.indexOf(e)&&(u.subscribers.push(e),u.fire=a(u.fire,e))},unsubscribe:function(e){u.subscribers=u.subscribers.filter((function(t){return t!==e})),u.fire=u.subscribers.reduce(a,s)}};return n[e]=i[e]=u,u}t(c=e).forEach((function(e){var t=c[e];if(r(t))o(e,c[e][0],c[e][1]);else{if("asap"!==t)throw new J.InvalidArgument("Invalid event config");var n=o(e,ne,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){v((function(){e.apply(null,t)}))}))}))}}))}}function Nt(e,t){return d(t).from({prototype:e}),t}function Rt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Dt(e,t){e.filter=At(e.filter,t)}function Zt(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>At(r(),t()):t,e.justLimit=n&&!r}function Bt(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new J.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Kt(e,t,n){const r=Bt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Mt(e,t,n,r){const i=e.replayFilter?At(e.filter,e.replayFilter()):e.filter;if(e.or){const a={},s=(e,n,r)=>{if(!i||i(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var s=n.primaryKey,c=""+s;"[object ArrayBuffer]"===c&&(c=""+new Uint8Array(s)),o(a,c)||(a[c]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(s,n),Ft(Kt(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return Ft(Kt(e,r,n),At(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Ft(e,t,n,r){var i=We(r?(e,t,i)=>n(r(e),t,i):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=te}),(t=>{e.fail(t),n=te}))||i(e.value,e,(e=>n=e)),n()}))}))}function Lt(e,t){try{const n=qt(e),r=qt(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}($t(e),$t(t));case"Array":return function(e,t){const n=e.length,r=t.length,i=n<r?n:r;for(let n=0;n<i;++n){const r=Lt(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function qt(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=C(e);return"ArrayBuffer"===n?"binary":n}function $t(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class zt{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,ft.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,ft.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=At(t.algorithm,e)}_iterate(e,t){return Mt(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&i(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>Mt(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(Rt(t,!0))return n.count({trans:e,query:{index:Bt(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return Mt(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],i=n.length-1;function a(e,t){return t?a(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function o(e,t){var n=a(e,i),r=a(t,i);return n<r?-s:n>r?s:0}return this.toArray((function(e){return e.sort(o)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&Rt(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=Bt(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return Mt(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Rt(t)?Zt(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):Zt(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Zt(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Dt(this._ctx,(function(n,r,i){return!e(n.value)||(r(i),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Dt(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=At(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Rt(t,!0)&&t.limit>0)return this._read((e=>{var n=Bt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Dt(this._ctx,(function(e){var t=e.primaryKey.toString(),r=o(n,t);return n[t]=!0,!r})),this}modify(e){var n=this._ctx;return this._write((r=>{var i;if("function"==typeof e)i=e;else{var a=t(e),s=a.length;i=function(t){for(var n=!1,r=0;r<s;++r){var i=a[r],o=e[i];_(t,i)!==o&&(w(t,i,o),n=!0)}return n}}const o=n.table.core,{outbound:c,extractKey:u}=o.schema.primaryKey,l=this.db._options.modifyChunkSize||200,d=[];let h=0;const f=[],p=(e,n)=>{const{failures:r,numFailures:i}=n;h+=e-i;for(let e of t(r))d.push(r[e])};return this.clone().primaryKeys().then((t=>{const a=s=>{const d=Math.min(l,t.length-s);return o.getMany({trans:r,keys:t.slice(s,s+d),cache:"immutable"}).then((h=>{const f=[],m=[],y=c?[]:null,g=[];for(let e=0;e<d;++e){const n=h[e],r={value:A(n),primKey:t[s+e]};!1!==i.call(r,r.value,r)&&(null==r.value?g.push(t[s+e]):c||0===Lt(u(n),u(r.value))?(m.push(r.value),c&&y.push(t[s+e])):(g.push(t[s+e]),f.push(r.value)))}const v=Rt(n)&&n.limit===1/0&&("function"!=typeof e||e===Ut)&&{index:n.index,range:n.range};return Promise.resolve(f.length>0&&o.mutate({trans:r,type:"add",values:f}).then((e=>{for(let t in e.failures)g.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(m.length>0||v&&"object"==typeof e)&&o.mutate({trans:r,type:"put",keys:y,values:m,criteria:v,changeSpec:"function"!=typeof e&&e}).then((e=>p(m.length,e))))).then((()=>(g.length>0||v&&e===Ut)&&o.mutate({trans:r,type:"delete",keys:g,criteria:v}).then((e=>p(g.length,e))))).then((()=>t.length>s+d&&a(s+l)))}))};return a(0).then((()=>{if(d.length>0)throw new H("Error modifying one or more objects",d,h,f);return t.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Rt(e)&&(e.isPrimKey&&!kt||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then((({failures:e,lastResult:n,results:r,numFailures:i})=>{if(i)throw new H("Could not delete some values",Object.keys(e).map((t=>e[t])),t-i);return t-i}))))})):this.modify(Ut)}}const Ut=(e,t)=>t.value=null;function Wt(e,t){return e<t?-1:e===t?0:1}function Vt(e,t){return e>t?-1:e===t?0:1}function Ht(e,t,n){var r=e instanceof en?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Xt(e){return new e.Collection(e,(()=>Qt(""))).limit(0)}function Yt(e,t,n,r,i,a){for(var s=Math.min(e.length,r.length),o=-1,c=0;c<s;++c){var u=t[c];if(u!==r[c])return i(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):i(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):o>=0?e.substr(0,o)+t[o]+n.substr(o+1):null;i(e[c],u)<0&&(o=c)}return s<r.length&&"next"===a?e+n.substr(e.length):s<e.length&&"prev"===a?e.substr(0,n.length):o<0?null:e.substr(0,o)+r[o]+n.substr(o+1)}function Gt(e,t,n,r){var i,a,s,o,c,u,l,d=n.length;if(!n.every((e=>"string"==typeof e)))return Ht(e,bt);function h(e){i=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),a=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),s="next"===e?Wt:Vt;var t=n.map((function(e){return{lower:a(e),upper:i(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));o=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),u=e,l="next"===e?"":r}h("next");var f=new e.Collection(e,(()=>Jt(o[0],c[d-1]+r)));f._ondirectionchange=function(e){h(e)};var p=0;return f._addAlgorithm((function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var h=a(i);if(t(h,c,p))return!0;for(var f=null,m=p;m<d;++m){var y=Yt(i,h,o[m],c[m],s,u);null===y&&null===f?p=m+1:(null===f||s(f,y)>0)&&(f=y)}return n(null!==f?function(){e.continue(f+l)}:r),!1})),f}function Jt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Qt(e){return{type:1,lower:e,upper:e}}class en{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Xt(this):new this.Collection(this,(()=>Jt(e,t,!n,!r)))}catch(e){return Ht(this,vt)}}equals(e){return null==e?Ht(this,vt):new this.Collection(this,(()=>Qt(e)))}above(e){return null==e?Ht(this,vt):new this.Collection(this,(()=>Jt(e,void 0,!0)))}aboveOrEqual(e){return null==e?Ht(this,vt):new this.Collection(this,(()=>Jt(e,void 0,!1)))}below(e){return null==e?Ht(this,vt):new this.Collection(this,(()=>Jt(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Ht(this,vt):new this.Collection(this,(()=>Jt(void 0,e)))}startsWith(e){return"string"!=typeof e?Ht(this,bt):this.between(e,e+yt,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Gt(this,((e,t)=>0===e.indexOf(t[0])),[e],yt)}equalsIgnoreCase(e){return Gt(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=D.apply(R,arguments);return 0===e.length?Xt(this):Gt(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=D.apply(R,arguments);return 0===e.length?Xt(this):Gt(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,yt)}anyOf(){const e=D.apply(R,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Ht(this,vt)}if(0===e.length)return Xt(this);const n=new this.Collection(this,(()=>Jt(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,i,a)=>{const s=n.key;for(;t(s,e[r])>0;)if(++r,r===e.length)return i(a),!1;return 0===t(s,e[r])||(i((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[gt,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=D.apply(R,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Ht(this,vt)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[gt,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,i=this._descending,a=this._min,s=this._max;if(0===e.length)return Xt(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Ht(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",J.InvalidArgument);const o=!t||!1!==t.includeLowers,c=t&&!0===t.includeUppers;let u,l=r;function d(e,t){return l(e[0],t[0])}try{u=e.reduce((function(e,t){let r=0,i=e.length;for(;r<i;++r){const i=e[r];if(n(t[0],i[1])<0&&n(t[1],i[0])>0){i[0]=a(i[0],t[0]),i[1]=s(i[1],t[1]);break}}return r===i&&e.push(t),e}),[]),u.sort(d)}catch(e){return Ht(this,vt)}let h=0;const f=c?e=>r(e,u[h][1])>0:e=>r(e,u[h][1])>=0,p=o?e=>i(e,u[h][0])>0:e=>i(e,u[h][0])>=0;let m=f;const y=new this.Collection(this,(()=>Jt(u[0][0],u[u.length-1][1],!o,!c)));return y._ondirectionchange=e=>{"next"===e?(m=f,l=r):(m=p,l=i),u.sort(d)},y._addAlgorithm(((e,t,n)=>{for(var i=e.key;m(i);)if(++h,h===u.length)return t(n),!1;return!!function(e){return!f(e)&&!p(e)}(i)||(0===this._cmp(i,u[h][1])||0===this._cmp(i,u[h][0])||t((()=>{l===r?e.continue(u[h][0]):e.continue(u[h][1])})),!1)})),y}startsWithAnyOf(){const e=D.apply(R,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Xt(this):this.inAnyRange(e.map((e=>[e,e+yt]))):Ht(this,"startsWithAnyOf() only works with strings")}}function tn(e){return We((function(t){return nn(t),e(t.target.error),!1}))}function nn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const rn="storagemutated",an="x-storagemutated-1",sn=It(null,rn);class on{_lock(){return g(!je.global),++this._reculock,1!==this._reculock||je.global||(je.lockOwnerFor=this),this}_unlock(){if(g(!je.global),0==--this._reculock)for(je.global||(je.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ot(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&je.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(g(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new J.DatabaseClosed(n);case"MissingAPIError":throw new J.MissingAPI(n.message,n);default:throw new J.OpenFailed(n)}if(!this.active)throw new J.TransactionInactive;return g(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=We((t=>{nn(t),this._reject(e.error)})),e.onabort=We((t=>{nn(t),this.active&&this._reject(new J.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=We((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&sn.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return ft(new J.ReadOnly("Transaction is readonly"));if(!this.active)return ft(new J.TransactionInactive);if(this._locked())return new Ce(((r,i)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,i)},je])}));if(n)return Qe((()=>{var e=new Ce(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Ce(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Ce.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var i=t._waitingFor;return new Ce(((e,r)=>{n.then((n=>t._waitingQueue.push(We(e.bind(null,n)))),(e=>t._waitingQueue.push(We(r.bind(null,e))))).finally((()=>{t._waitingFor===i&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new J.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(o(t,e))return t[e];const n=this.schema[e];if(!n)throw new J.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function cn(e,t,n,r,i,a,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:a,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+un(t)}}function un(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function ln(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:b(n,(e=>[e.name,e]))}}let dn=e=>{try{return e.only([[]]),dn=()=>[[]],[[]]}catch(e){return dn=()=>yt,yt}};function hn(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>_(t,e)}(e):t=>_(t,e)}function fn(e){return[].slice.call(e)}let pn=0;function mn(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function yn(e,t,n){function i(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:i,upperOpen:a}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!a):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!a)}const{schema:a,hasGetAll:s}=function(e,t){const n=fn(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,i=r(t),a=null==t,s={},o={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:a,compound:i,keyPath:t,autoIncrement:n,unique:!0,extractKey:hn(t)},indexes:fn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:i,keyPath:a}=e,o={name:t,compound:r(a),keyPath:a,unique:n,multiEntry:i,extractKey:hn(a)};return s[mn(a)]=o,o})),getIndexByKeyPath:e=>s[mn(e)]};return s[":id"]=o.primaryKey,null!=t&&(s[mn(t)]=o.primaryKey),o}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=a.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:r,values:a,range:s}){return new Promise(((o,c)=>{o=We(o);const u=e.objectStore(t),l=null==u.keyPath,d="put"===n||"add"===n;if(!d&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:h}=r||a||{length:1};if(r&&a&&r.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return o({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],m=[];let y=0;const g=e=>{++y,nn(e)};if("deleteRange"===n){if(4===s.type)return o({numFailures:y,failures:m,results:[],lastResult:void 0});3===s.type?p.push(f=u.clear()):p.push(f=u.delete(i(s)))}else{const[e,t]=d?l?[a,r]:[a,null]:[r,null];if(d)for(let r=0;r<h;++r)p.push(f=t&&void 0!==t[r]?u[n](e[r],t[r]):u[n](e[r])),f.onerror=g;else for(let t=0;t<h;++t)p.push(f=u[n](e[t])),f.onerror=g}const v=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),o({numFailures:y,failures:m,results:"delete"===n?r:p.map((e=>e.result)),lastResult:t})};f.onerror=e=>{g(e),v(e)},f.onsuccess=v}))},getMany:({trans:e,keys:n})=>new Promise(((r,i)=>{r=We(r);const a=e.objectStore(t),s=n.length,o=new Array(s);let c,u=0,l=0;const d=e=>{const t=e.target;o[t._pos]=t.result,++l===u&&r(o)},h=tn(i);for(let e=0;e<s;++e)null!=n[e]&&(c=a.get(n[e]),c._pos=e,c.onsuccess=d,c.onerror=h,++u);0===u&&r(o)})),get:({trans:e,key:n})=>new Promise(((r,i)=>{r=We(r);const a=e.objectStore(t).get(n);a.onsuccess=e=>r(e.target.result),a.onerror=tn(i)})),query:function(e){return n=>new Promise(((r,a)=>{r=We(r);const{trans:s,values:o,limit:c,query:u}=n,l=c===1/0?void 0:c,{index:d,range:h}=u,f=s.objectStore(t),p=d.isPrimaryKey?f:f.index(d.name),m=i(h);if(0===c)return r({result:[]});if(e){const e=o?p.getAll(m,l):p.getAllKeys(m,l);e.onsuccess=e=>r({result:e.target.result}),e.onerror=tn(a)}else{let e=0;const t=o||!("openKeyCursor"in p)?p.openCursor(m):p.openKeyCursor(m),n=[];t.onsuccess=i=>{const a=t.result;return a?(n.push(o?a.value:a.primaryKey),++e===c?r({result:n}):void a.continue()):r({result:n})},t.onerror=tn(a)}}))}(s),openCursor:function({trans:e,values:n,query:r,reverse:a,unique:s}){return new Promise(((o,c)=>{o=We(o);const{index:u,range:l}=r,d=e.objectStore(t),h=u.isPrimaryKey?d:d.index(u.name),f=a?s?"prevunique":"prev":s?"nextunique":"next",p=n||!("openKeyCursor"in h)?h.openCursor(i(l),f):h.openKeyCursor(i(l),f);p.onerror=tn(c),p.onsuccess=We((t=>{const n=p.result;if(!n)return void o(null);n.___id=++pn,n.done=!1;const r=n.continue.bind(n);let i=n.continuePrimaryKey;i&&(i=i.bind(n));const a=n.advance.bind(n),s=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=We(c),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=We(e),p.onerror=tn(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=s,e(t)}})),o=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return p.onsuccess=We((e=>{p.onsuccess=o,o()})),n.continue=r,n.continuePrimaryKey=i,n.advance=a,o(),t},o(n)}),c)}))},count({query:e,trans:n}){const{index:r,range:a}=e;return new Promise(((e,s)=>{const o=n.objectStore(t),c=r.isPrimaryKey?o:o.index(r.name),u=i(a),l=u?c.count(u):c.count();l.onsuccess=We((t=>e(t.target.result))),l.onerror=tn(s)}))}}}(e))),c={};return o.forEach((e=>c[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!c[e])throw new Error(`Table '${e}' not found`);return c[e]},MIN_KEY:-1/0,MAX_KEY:dn(t),schema:a}}function gn({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},i){const a=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(yn(t,n,i),e.dbcore);return{dbcore:a}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function vn({_novip:e},t,n,r){n.forEach((n=>{const i=r[n];t.forEach((t=>{const r=f(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?l(t,n,{get(){return this.table(n)},set(e){u(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))}))}))}function bn({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function _n(e,t){return e._cfg.version-t._cfg.version}function wn(e,n,r,i){const a=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,a);s.create(r),s._completion.catch(i);const o=s._reject.bind(s),c=je.transless||je;Qe((()=>{je.trans=s,je.transless=c,0===n?(t(a).forEach((e=>{kn(r,e,a[e].primKey,a[e].indexes)})),gn(e,r),Ce.follow((()=>e.on.populate.fire(s))).catch(o)):function({_novip:e},n,r,i){const a=[],s=e._versions;let o=e._dbSchema=On(e,e.idbdb,i),c=!1;const u=s.filter((e=>e._cfg.version>=n));return u.forEach((s=>{a.push((()=>{const a=o,u=s._cfg.dbschema;En(e,a,i),En(e,u,i),o=e._dbSchema=u;const l=xn(a,u);l.add.forEach((e=>{kn(i,e[0],e[1].primKey,e[1].indexes)})),l.change.forEach((e=>{if(e.recreate)throw new J.Upgrade("Not yet support for changing primary key");{const t=i.objectStore(e.name);e.add.forEach((e=>Sn(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),Sn(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const d=s._cfg.contentUpgrade;if(d&&s._cfg.version>n){gn(e,i),r._memoizedTables={},c=!0;let n=x(u);l.del.forEach((e=>{n[e]=a[e]})),bn(e,[e.Transaction.prototype]),vn(e,[e.Transaction.prototype],t(n),n),r.schema=n;const s=Z(d);let o;s&&et();const h=Ce.follow((()=>{if(o=d(r),o&&s){var e=tt.bind(null,null);o.then(e,e)}}));return o&&"function"==typeof o.then?Ce.resolve(o):h.then((()=>o))}})),a.push((t=>{c&&xt||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(s._cfg.dbschema,t),bn(e,[e.Transaction.prototype]),vn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),function e(){return a.length?Ce.resolve(a.shift()(r.idbtrans)).then(e):Ce.resolve()}().then((()=>{var e,n;n=i,t(e=o).forEach((t=>{n.db.objectStoreNames.contains(t)||kn(n,t,e[t].primKey,e[t].indexes)}))}))}(e,n,s,r).catch(o)}))}function xn(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],a=t[r];if(i){const e={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!wt)e.recreate=!0,n.change.push(e);else{const t=i.idxByName,r=a.idxByName;let s;for(s in t)r[s]||e.del.push(s);for(s in r){const n=t[s],i=r[s];n?n.src!==i.src&&e.change.push(i):e.add.push(i)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,a])}return n}function kn(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>Sn(i,e))),i}function Sn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function On(e,t,n){const r={};return m(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let i=t.keyPath;const a=cn(un(i),i||"",!1,!1,!!t.autoIncrement,i&&"string"!=typeof i,!0),s=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);i=n.keyPath;var o=cn(n.name,i,!!n.unique,!!n.multiEntry,!1,i&&"string"!=typeof i,!1);s.push(o)}r[e]=ln(e,a,s)})),r}function En({_novip:t},n,r){const i=r.db.objectStoreNames;for(let e=0;e<i.length;++e){const a=i[e],s=r.objectStore(a);t._hasGetAll="getAll"in s;for(let e=0;e<s.indexNames.length;++e){const t=s.indexNames[e],r=s.index(t).keyPath,i="string"==typeof r?r:"["+m(r).join("+")+"]";if(n[a]){const e=n[a].idxByName[i];e&&(e.name=t,delete n[a].idxByName[i],n[a].idxByName[t]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class jn{_parseStoresSpec(e,n){t(e).forEach((t=>{if(null!==e[t]){var i=e[t].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return cn(n,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),r(i),0===t)})),a=i.shift();if(a.multi)throw new J.Schema("Primary key cannot be multi-valued");i.forEach((e=>{if(e.auto)throw new J.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new J.Schema("Index must have a name and cannot be an empty string")})),n[t]=ln(t,a,i)}}))}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,e):e;const r=n._versions,a={};let s={};return r.forEach((e=>{i(a,e._cfg.storesSource),s=e._cfg.dbschema={},e._parseStoresSpec(a,s)})),n._dbSchema=s,bn(n,[n._allTables,n,n.Transaction.prototype]),vn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],t(s),s),n._storeNames=t(s),this}upgrade(e){return this._cfg.contentUpgrade=ue(this._cfg.contentUpgrade||te,e),this}}function An(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Xn(Ot,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Tn(e){return e&&"function"==typeof e.databases}function Pn(e){return Qe((function(){return je.letThrough=!0,e()}))}function Cn(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function In(e){var t=t=>e.next(t),n=a(t),i=a((t=>e.throw(t)));function a(e){return t=>{var a=e(t),s=a.value;return a.done?s:s&&"function"==typeof s.then?s.then(n,i):r(s)?Promise.all(s).then(n,i):n(s)}}return a(t)()}function Nn(e,t,n){var r=arguments.length;if(r<2)throw new J.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,S(i),n]}function Rn(e,t,n,r,i){return Ce.resolve().then((()=>{const a=je.transless||je,s=e._createTransaction(t,n,e._dbSchema,r),o={trans:s,transless:a};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Y.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Rn(e,t,n,null,i)))):ft(r)}const c=Z(i);let u;c&&et();const l=Ce.follow((()=>{if(u=i.call(s,s),u)if(c){var e=tt.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=In(u))}),o);return(u&&"function"==typeof u.then?Ce.resolve(u).then((e=>s.active?e:ft(new J.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):l.then((()=>u))).then((e=>(r&&s._resolve(),s._completion.then((()=>e))))).catch((e=>(s._reject(e),ft(e))))}))}function Dn(e,t,n){const i=r(e)?e.slice():[e];for(let e=0;e<n;++e)i.push(t);return i}const Zn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},a=[];function s(e,t,n){const r=mn(e),o=i[r]=i[r]||[],c=null==e?0:"string"==typeof e?1:e.length,u=t>0,l={...n,isVirtual:u,keyTail:t,keyLength:c,extractKey:hn(e),unique:!u&&n.unique};return o.push(l),l.isPrimaryKey||a.push(l),c>1&&s(2===c?e[0]:e.slice(0,c-1),t+1,n),o.sort(((e,t)=>e.keyTail-t.keyTail)),l}const o=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(const e of r.indexes)s(e.keyPath,0,e);function c(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,i=n.keyTail,{type:1===r.type?2:r.type,lower:Dn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Dn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}:t;var r,i}const u={...n,schema:{...r,primaryKey:o,indexes:a,getIndexByKeyPath:function(e){const t=i[mn(e)];return t&&t[0]}},count:e=>n.count(c(e)),query:e=>n.query(c(e)),openCursor(t){const{keyTail:r,isVirtual:i,keyLength:a}=t.query.index;return i?n.openCursor(c(t)).then((n=>n&&function(n){const i=Object.create(n,{continue:{value:function(i){null!=i?n.continue(Dn(i,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,i){n.continuePrimaryKey(Dn(t,e.MAX_KEY,r),i)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:()=>n.value}});return i}(n))):n.openCursor(t)}};return u}}}};function Bn(e,n,r,i){return r=r||{},i=i||"",t(e).forEach((t=>{if(o(n,t)){var a=e[t],s=n[t];if("object"==typeof a&&"object"==typeof s&&a&&s){const e=C(a);e!==C(s)?r[i+t]=n[t]:"Object"===e?Bn(a,s,r,i+t+"."):a!==s&&(r[i+t]=n[t])}else a!==s&&(r[i+t]=n[t])}else r[i+t]=void 0})),t(n).forEach((t=>{o(e,t)||(r[i+t]=n[t])})),r}const Kn={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,i={...n,mutate(e){const i=je.trans,{deleting:a,creating:s,updating:c}=i.table(t).hook;switch(e.type){case"add":if(s.fire===te)break;return i._promise("readwrite",(()=>u(e)),!0);case"put":if(s.fire===te&&c.fire===te)break;return i._promise("readwrite",(()=>u(e)),!0);case"delete":if(a.fire===te)break;return i._promise("readwrite",(()=>u(e)),!0);case"deleteRange":if(a.fire===te)break;return i._promise("readwrite",(()=>function(e){return l(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function u(e){const t=je.trans,i=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!i)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:i}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,i).then((u=>{const l=i.map(((n,i)=>{const l=u[i],d={onerror:null,onsuccess:null};if("delete"===e.type)a.fire.call(d,n,l,t);else if("add"===e.type||void 0===l){const a=s.fire.call(d,n,e.values[i],t);null==n&&null!=a&&(n=a,e.keys[i]=n,r.outbound||w(e.values[i],r.keyPath,n))}else{const r=Bn(l,e.values[i]),a=c.fire.call(d,r,n,l,t);if(a){const t=e.values[i];Object.keys(a).forEach((e=>{o(t,e)?t[e]=a[e]:w(t,e,a[e])}))}}return d}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:a})=>{for(let r=0;r<i.length;++r){const a=n?n[r]:i[r],s=l[r];null==a?s.onerror&&s.onerror(t[r]):s.onsuccess&&s.onsuccess("put"===e.type&&u[r]?e.values[r]:a)}return{failures:t,results:n,numFailures:r,lastResult:a}})).catch((e=>(l.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function l(e,t,i){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:i}).then((({result:n})=>u({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<i?{failures:[],numFailures:0,lastResult:void 0}:l(e,{...t,lower:n[n.length-1],lowerOpen:!0},i)))))}}};return i}})};function Mn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let i=0,a=0;i<t.keys.length&&a<e.length;++i)0===Lt(t.keys[i],e[a])&&(r.push(n?A(t.values[i]):t.values[i]),++a);return r.length===e.length?r:null}catch(e){return null}}const Fn={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=Mn(e.keys,e.trans._cache,"clone"===e.cache);return t?Ce.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?A(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Ln(e){return!("from"in e)}const qn=function(e,t){if(!this){const t=new qn;return e&&"d"in e&&i(t,e),t}i(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function $n(e,t,n){const r=Lt(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Ln(e))return i(e,{from:t,to:n,d:1});const a=e.l,s=e.r;if(Lt(n,e.from)<0)return a?$n(a,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Wn(e);if(Lt(t,e.to)>0)return s?$n(s,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Wn(e);Lt(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),Lt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;a&&!e.l&&zn(e,a),s&&o&&zn(e,s)}function zn(e,t){Ln(t)||function e(t,{from:n,to:r,l:i,r:a}){$n(t,n,r),i&&e(t,i),a&&e(t,a)}(e,t)}function Un(e){let t=Ln(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Lt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Lt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Wn(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const t="r"===i?"l":"r",n={...e},r=e[i];e.from=r.from,e.to=r.to,e[i]=r[i],n[i]=r[t],e[t]=n,n.d=Vn(n)}e.d=Vn(e)}function Vn({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}c(qn.prototype,{add(e){return zn(this,e),this},addKey(e){return $n(this,e,e),this},addKeys(e){return e.forEach((e=>$n(this,e,e))),this},[I](){return Un(this)}});const Hn={stack:"dbcore",level:0,create:e=>{const n=e.schema.name,i=new qn(e.MIN_KEY,e.MAX_KEY);return{...e,table:a=>{const s=e.table(a),{schema:o}=s,{primaryKey:c}=o,{extractKey:u,outbound:l}=c,d={...s,mutate:e=>{const t=e.trans,c=t.mutatedParts||(t.mutatedParts={}),u=e=>{const t=`idb://${n}/${a}/${e}`;return c[t]||(c[t]=new qn)},l=u(""),d=u(":dels"),{type:h}=e;let[f,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const m=e.trans._cache;return s.mutate(e).then((e=>{if(r(f)){"delete"!==h&&(f=e.results),l.addKeys(f);const t=Mn(f,m);t||"add"===h||d.addKeys(f),(t||p)&&function(e,t,n,i){t.indexes.forEach((function(t){const a=e(t.name||"");function s(e){return null!=e?t.extractKey(e):null}const o=e=>t.multiEntry&&r(e)?e.forEach((e=>a.addKey(e))):a.addKey(e);(n||i).forEach(((e,t)=>{const r=n&&s(n[t]),a=i&&s(i[t]);0!==Lt(r,a)&&(null!=r&&o(r),null!=a&&o(a))}))}))}(u,o,t,p)}else if(f){const e={from:f.lower,to:f.upper};d.add(e),l.add(e)}else l.add(i),d.add(i),o.indexes.forEach((e=>u(e.name).add(i)));return e}))}},h=({query:{index:t,range:n}})=>{var r,i;return[t,new qn(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(i=n.upper)&&void 0!==i?i:e.MAX_KEY)]},f={get:e=>[c,new qn(e.key)],getMany:e=>[c,(new qn).addKeys(e.keys)],count:h,query:h,openCursor:h};return t(f).forEach((e=>{d[e]=function(t){const{subscr:r}=je;if(r){const o=e=>{const t=`idb://${n}/${a}/${e}`;return r[t]||(r[t]=new qn)},c=o(""),d=o(":dels"),[h,p]=f[e](t);if(o(h.name||"").add(p),!h.isPrimaryKey){if("count"!==e){const n="query"===e&&l&&t.values&&s.query({...t,values:!1});return s[e].apply(this,arguments).then((r=>{if("query"===e){if(l&&t.values)return n.then((({result:e})=>(c.addKeys(e),r)));const e=t.values?r.result.map(u):r.result;t.values?c.addKeys(e):d.addKeys(e)}else if("openCursor"===e){const e=r,n=t.values;return e&&Object.create(e,{key:{get:()=>(d.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return d.addKey(t),t}},value:{get:()=>(n&&c.addKey(e.primaryKey),e.value)}})}return r}))}d.add(i)}}return s[e].apply(this,arguments)}})),d}}}};class Xn{constructor(e,t){this._middlewares={},this.verno=0;const n=Xn.dependencies;this._options=t={addons:Xn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:te,dbReadyPromise:null,cancelOpen:te,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var a;i.dbReadyPromise=new Ce((e=>{i.dbReadyResolve=e})),i.openCanceller=new Ce(((e,t)=>{i.cancelOpen=t})),this._state=i,this.name=e,this.on=It(this,"populate","blocked","versionchange","close",{ready:[ue,te]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(e=>(t,n)=>{Xn.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Ce.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(a=this,Nt(zt.prototype,(function(e,t){this.db=a;let n=Tt,r=null;if(t)try{n=t()}catch(e){r=e}const i=e._ctx,s=i.table,o=s.hook.reading.fire;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o!==ne?o:null}}))),this.Table=function(e){return Nt(Ct.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:It(null,{creating:[ae,te],reading:[re,ne],updating:[oe,te],deleting:[se,te]})}))}(this),this.Transaction=function(e){return Nt(on.prototype,(function(t,n,r,i,a){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=It(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ce(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),ft(e)}))}))}(this),this.Version=function(e){return Nt(jn.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Nt(en.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const i=e._deps.indexedDB;if(!i)throw new J.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(e,t)=>i.cmp(t,e),this._max=(e,t)=>i.cmp(e,t)>0?e:t,this._min=(e,t)=>i.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=dn(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),_t.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Zn),this.use(Kn),this.use(Hn),this.use(Fn),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new J.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new J.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(_n),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||je.letThrough||this._vip)?e():new Ce(((e,t)=>{if(this._state.openComplete)return t(new J.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new J.DatabaseClosed);this.open().catch(te)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:t,level:null==n?10:n,name:r}),i.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const n=e._state,{indexedDB:r}=e._deps;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then((()=>n.dbOpenError?ft(n.dbOpenError):e));B&&(n.openCanceller._stackHolder=L()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;const i=n.openCanceller;function a(){if(n.openCanceller!==i)throw new J.DatabaseClosed("db.open() was cancelled")}let s=n.dbReadyResolve,o=null,c=!1;const u=()=>new Ce(((i,s)=>{if(a(),!r)throw new J.MissingAPI;const u=e.name,l=n.autoSchema?r.open(u):r.open(u,Math.round(10*e.verno));if(!l)throw new J.MissingAPI;l.onerror=tn(s),l.onblocked=We(e._fireOnBlocked),l.onupgradeneeded=We((t=>{if(o=l.transaction,n.autoSchema&&!e._options.allowEmptyDB){l.onerror=nn,o.abort(),l.result.close();const e=r.deleteDatabase(u);e.onsuccess=e.onerror=We((()=>{s(new J.NoSuchDatabase(`Database ${u} doesnt exist`))}))}else{o.onerror=tn(s);var i=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;c=i<1,e._novip.idbdb=l.result,wn(e,i/10,o,s)}}),s),l.onsuccess=We((()=>{o=null;const r=e._novip.idbdb=l.result,a=m(r.objectStoreNames);if(a.length>0)try{const i=r.transaction(1===(s=a).length?s[0]:s,"readonly");n.autoSchema?function({_novip:e},n,r){e.verno=n.version/10;const i=e._dbSchema=On(0,n,r);e._storeNames=m(n.objectStoreNames,0),vn(e,[e._allTables],t(i),i)}(e,r,i):(En(e,e._dbSchema,i),function(e,t){const n=xn(On(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,i)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),gn(e,i)}catch(e){}var s;_t.push(e),r.onversionchange=We((t=>{n.vcFired=!0,e.on("versionchange").fire(t)})),r.onclose=We((t=>{e.on("close").fire(t)})),c&&function({indexedDB:e,IDBKeyRange:t},n){!Tn(e)&&n!==Ot&&An(e,t).put({name:n}).catch(te)}(e._deps,u),i()}),s)})).catch((e=>e&&"UnknownError"===e.name&&n.PR1398_maxLoop>0?(n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):Ce.reject(e)));return Ce.race([i,("undefined"==typeof navigator?Ce.resolve():Cn()).then(u)]).then((()=>(a(),n.onReadyBeingFired=[],Ce.resolve(Pn((()=>e.on.ready.fire(e.vip)))).then((function t(){if(n.onReadyBeingFired.length>0){let r=n.onReadyBeingFired.reduce(ue,te);return n.onReadyBeingFired=[],Ce.resolve(Pn((()=>r(e.vip)))).then(t)}}))))).finally((()=>{n.onReadyBeingFired=null,n.isBeingOpened=!1})).then((()=>e)).catch((t=>{n.dbOpenError=t;try{o&&o.abort()}catch(e){}return i===n.openCanceller&&e._close(),ft(t)})).finally((()=>{n.openComplete=!0,s()}))}(this)}_close(){const e=this._state,t=_t.indexOf(this);if(t>=0&&_t.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Ce((t=>{e.dbReadyResolve=t})),e.openCanceller=new Ce(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new J.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Ce(((n,r)=>{const i=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=We((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!Tn(e)&&n!==Ot&&An(e,t).delete(n).catch(te)}(this._deps,this.name),n()})),e.onerror=tn(r),e.onblocked=this._fireOnBlocked};if(e)throw new J.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(i):i()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Nn.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=je.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const i=-1!==e.indexOf("?");let a,s;e=e.replace("!","").replace("?","");try{if(s=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===Et)a=Et;else{if("rw"!=e&&e!=jt)throw new J.InvalidArgument("Invalid transaction mode: "+e);a=jt}if(r){if(r.mode===Et&&a===jt){if(!i)throw new J.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&s.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new J.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):ft(e)}const o=Rn.bind(null,this,a,s,r,n);return r?r._promise(a,o,"lock"):je.trans?ot(je.transless,(()=>this._whenReady(o))):this._whenReady(o)}table(e){if(!o(this._allTables,e))throw new J.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Yn="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Gn{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Yn](){return this}}function Jn(e,n){return t(n).forEach((t=>{zn(e[t]||(e[t]=new qn),n[t])})),e}let Qn;try{Qn={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch(e){Qn={indexedDB:null,IDBKeyRange:null}}const er=Xn;function tr(e){let t=nr;try{nr=!0,sn.storagemutated.fire(e)}finally{nr=t}}c(er,{...ee,delete:e=>new er(e,{addons:[]}).delete(),exists:e=>new er(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return Tn(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==Ot)))):An(e,t).toCollection().primaryKeys()}(er.dependencies).then(e)}catch(e){return ft(new J.MissingAPI)}},defineClass:()=>function(e){i(this,e)},ignoreTransaction:e=>je.trans?ot(je.transless,e):e(),vip:Pn,async:function(e){return function(){try{var t=In(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Ce.resolve(t)}catch(e){return ft(e)}}},spawn:function(e,t,n){try{var r=In(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Ce.resolve(r)}catch(e){return ft(e)}},currentTransaction:{get:()=>je.trans||null},waitFor:function(e,t){const n=Ce.resolve("function"==typeof e?er.ignoreTransaction(e):e).timeout(t||6e4);return je.trans?je.trans.waitFor(n):n},Promise:Ce,debug:{get:()=>B,set:e=>{K(e,"dexie"===e?()=>!0:St)}},derive:d,extend:i,props:c,override:y,Events:It,on:sn,liveQuery:function(e){let n,r=!1;const i=new Gn((i=>{const a=Z(e);let s=!1,o={},c={};const u={get closed(){return s},unsubscribe:()=>{s=!0,sn.storagemutated.unsubscribe(f)}};i.start&&i.start(u);let l=!1,d=!1;function h(){return t(c).some((e=>o[e]&&function(e,t){const n=Un(t);let r=n.next();if(r.done)return!1;let i=r.value;const a=Un(e);let s=a.next(i.from),o=s.value;for(;!r.done&&!s.done;){if(Lt(o.from,i.to)<=0&&Lt(o.to,i.from)>=0)return!0;Lt(i.from,o.from)<0?i=(r=n.next(o.from)).value:o=(s=a.next(i.from)).value}return!1}(o[e],c[e])))}const f=e=>{Jn(o,e),h()&&p()},p=()=>{if(l||s)return;o={};const t={},m=function(t){a&&et();const n=()=>Qe(e,{subscr:t,trans:null}),r=je.trans?ot(je.transless,n):n();return a&&r.then(tt,tt),r}(t);d||(sn(rn,f),d=!0),l=!0,Promise.resolve(m).then((e=>{r=!0,n=e,l=!1,s||(h()?p():(o={},c=t,i.next&&i.next(e)))}),(e=>{l=!1,r=!1,i.error&&i.error(e),u.unsubscribe()}))};return p(),u}));return i.hasValue=()=>r,i.getValue=()=>n,i},extendObservabilitySet:Jn,getByKeyPath:_,setByKeyPath:w,delByKeyPath:function(e,t){"string"==typeof t?w(e,t,void 0):"length"in t&&[].map.call(t,(function(t){w(e,t,void 0)}))},shallowClone:x,deepClone:A,getObjectDiff:Bn,cmp:Lt,asap:v,minKey:gt,addons:[],connections:_t,errnames:Y,dependencies:Qn,semVer:mt,version:mt.split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),er.maxKey=dn(er.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(sn(rn,(e=>{if(!nr){let t;wt?(t=document.createEvent("CustomEvent"),t.initCustomEvent(an,!0,!0,e)):t=new CustomEvent(an,{detail:e}),nr=!0,dispatchEvent(t),nr=!1}})),addEventListener(an,(({detail:e})=>{nr||tr(e)})));let nr=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(an);"function"==typeof e.unref&&e.unref(),sn(rn,(t=>{nr||e.postMessage(t)})),e.onmessage=e=>{e.data&&tr(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){sn(rn,(e=>{try{nr||("undefined"!=typeof localStorage&&localStorage.setItem(an,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:an,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===an){const t=JSON.parse(e.newValue);t&&tr(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===an&&tr(e.changedParts)}))}Ce.rejectionMapper=function(e,t){if(!e||e instanceof W||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Q[e.name])return e;var n=new Q[e.name](t||e.message,e);return"stack"in e&&l(n,"stack",{get:function(){return this.inner.stack}}),n},K(B,St);Number("MISSING_ENV_VAR".PROXY_PORT);const rr=1e3,ir=navigator.userAgent.includes("Firefox")||navigator.userAgent.includes("MullvadBrowser");var ar,sr;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(ar||(ar={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(sr||(sr={}));const or=ar.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),cr=e=>{switch(typeof e){case"undefined":return or.undefined;case"string":return or.string;case"number":return isNaN(e)?or.nan:or.number;case"boolean":return or.boolean;case"function":return or.function;case"bigint":return or.bigint;case"symbol":return or.symbol;case"object":return Array.isArray(e)?or.array:null===e?or.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?or.promise:"undefined"!=typeof Map&&e instanceof Map?or.map:"undefined"!=typeof Set&&e instanceof Set?or.set:"undefined"!=typeof Date&&e instanceof Date?or.date:or.object;default:return or.unknown}},ur=ar.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class lr extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,ar.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}lr.create=e=>new lr(e);const dr=(e,t)=>{let n;switch(e.code){case ur.invalid_type:n=e.received===or.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ur.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ar.jsonStringifyReplacer)}`;break;case ur.unrecognized_keys:n=`Unrecognized key(s) in object: ${ar.joinValues(e.keys,", ")}`;break;case ur.invalid_union:n="Invalid input";break;case ur.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ar.joinValues(e.options)}`;break;case ur.invalid_enum_value:n=`Invalid enum value. Expected ${ar.joinValues(e.options)}, received '${e.received}'`;break;case ur.invalid_arguments:n="Invalid function arguments";break;case ur.invalid_return_type:n="Invalid function return type";break;case ur.invalid_date:n="Invalid date";break;case ur.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ar.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ur.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ur.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ur.custom:n="Invalid input";break;case ur.invalid_intersection_types:n="Intersection results could not be merged";break;case ur.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ur.not_finite:n="Number must be finite";break;default:n=t.defaultError,ar.assertNever(e)}return{message:n}};let hr=dr;function fr(){return hr}const pr=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],s={...i,path:a};let o="";const c=r.filter((e=>!!e)).slice().reverse();for(const e of c)o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:i.message||o}};function mr(e,t){const n=pr({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,fr(),dr].filter((e=>!!e))});e.common.issues.push(n)}class yr{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return gr;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t)n.push({key:await e.key,value:await e.value});return yr.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return gr;if("aborted"===i.status)return gr;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const gr=Object.freeze({status:"aborted"}),vr=e=>({status:"dirty",value:e}),br=e=>({status:"valid",value:e}),_r=e=>"aborted"===e.status,wr=e=>"dirty"===e.status,xr=e=>"valid"===e.status,kr=e=>"undefined"!=typeof Promise&&e instanceof Promise;var Sr;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(Sr||(Sr={}));class Or{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Er=(e,t)=>{if(xr(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new lr(e.common.issues);return this._error=t,this._error}}};function jr(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=r?r:t.defaultError}:{message:null!=n?n:t.defaultError},description:i}}class Ar{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return cr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:cr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new yr,ctx:{common:e.parent.common,data:e.data,parsedType:cr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(kr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cr(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Er(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cr(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(kr(r)?r:Promise.resolve(r));return Er(n,i)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),a=()=>r.addIssue({code:ur.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(a(),!1))):!!i||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new mi({schema:this,typeName:ji.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return yi.create(this,this._def)}nullable(){return gi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yr.create(this,this._def)}promise(){return pi.create(this,this._def)}or(e){return Qr.create([this,e],this._def)}and(e){return ri.create(this,e,this._def)}transform(e){return new mi({...jr(this._def),schema:this,typeName:ji.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new vi({...jr(this._def),innerType:this,defaultValue:t,typeName:ji.ZodDefault})}brand(){return new xi({typeName:ji.ZodBranded,type:this,...jr(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new bi({...jr(this._def),innerType:this,catchValue:t,typeName:ji.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ki.create(this,e)}readonly(){return Si.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Tr=/^c[^\s-]{8,}$/i,Pr=/^[a-z][a-z0-9]*$/,Cr=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ir=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Nr=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Rr;const Dr=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Zr=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;class Br extends Ar{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==or.string){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.string,received:t.parsedType}),gr}const t=new yr;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),mr(n,{code:ur.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),mr(n,{code:ur.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const r=e.data.length>s.value,i=e.data.length<s.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?mr(n,{code:ur.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&mr(n,{code:ur.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)Nr.test(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{validation:"email",code:ur.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)Rr||(Rr=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Rr.test(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{validation:"emoji",code:ur.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)Ir.test(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{validation:"uuid",code:ur.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)Tr.test(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{validation:"cuid",code:ur.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)Pr.test(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{validation:"cuid2",code:ur.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)Cr.test(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{validation:"ulid",code:ur.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(r){n=this._getOrReturnCtx(e,n),mr(n,{validation:"url",code:ur.invalid_string,message:s.message}),t.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0;s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{validation:"regex",code:ur.invalid_string,message:s.message}),t.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),mr(n,{code:ur.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),mr(n,{code:ur.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),mr(n,{code:ur.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty());else if("datetime"===s.kind){((a=s).precision?a.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${a.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${a.precision}}Z$`):0===a.precision?a.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):a.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(e.data)||(n=this._getOrReturnCtx(e,n),mr(n,{code:ur.invalid_string,validation:"datetime",message:s.message}),t.dirty())}else"ip"===s.kind?(r=e.data,("v4"!==(i=s.version)&&i||!Dr.test(r))&&("v6"!==i&&i||!Zr.test(r))&&(n=this._getOrReturnCtx(e,n),mr(n,{validation:"ip",code:ur.invalid_string,message:s.message}),t.dirty())):ar.assertNever(s);var r,i,a;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:ur.invalid_string,...Sr.errToObj(n)})}_addCheck(e){return new Br({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Sr.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Sr.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Sr.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Sr.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Sr.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Sr.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Sr.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Sr.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...Sr.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Sr.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Sr.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Sr.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Sr.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Sr.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Sr.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Sr.errToObj(t)})}nonempty(e){return this.min(1,Sr.errToObj(e))}trim(){return new Br({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Br({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Kr(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}Br.create=e=>{var t;return new Br({checks:[],typeName:ji.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...jr(e)})};class Mr extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==or.number){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.number,received:t.parsedType}),gr}let t;const n=new yr;for(const r of this._def.checks)if("int"===r.kind)ar.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),mr(t,{code:ur.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),mr(t,{code:ur.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),mr(t,{code:ur.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Kr(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),mr(t,{code:ur.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),mr(t,{code:ur.not_finite,message:r.message}),n.dirty()):ar.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Sr.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Sr.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Sr.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Sr.toString(t))}setLimit(e,t,n,r){return new Mr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Sr.toString(r)}]})}_addCheck(e){return new Mr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Sr.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Sr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Sr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Sr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Sr.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Sr.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Sr.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Sr.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Sr.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&ar.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Mr.create=e=>new Mr({checks:[],typeName:ji.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...jr(e)});class Fr extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==or.bigint){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.bigint,received:t.parsedType}),gr}let t;const n=new yr;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),mr(t,{code:ur.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),mr(t,{code:ur.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),mr(t,{code:ur.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):ar.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Sr.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Sr.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Sr.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Sr.toString(t))}setLimit(e,t,n,r){return new Fr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Sr.toString(r)}]})}_addCheck(e){return new Fr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Sr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Sr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Sr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Sr.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Sr.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Fr.create=e=>{var t;return new Fr({checks:[],typeName:ji.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...jr(e)})};class Lr extends Ar{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==or.boolean){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.boolean,received:t.parsedType}),gr}return br(e.data)}}Lr.create=e=>new Lr({typeName:ji.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...jr(e)});class qr extends Ar{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==or.date){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.date,received:t.parsedType}),gr}if(isNaN(e.data.getTime())){return mr(this._getOrReturnCtx(e),{code:ur.invalid_date}),gr}const t=new yr;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),mr(n,{code:ur.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),mr(n,{code:ur.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):ar.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new qr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Sr.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Sr.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}qr.create=e=>new qr({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:ji.ZodDate,...jr(e)});class $r extends Ar{_parse(e){if(this._getType(e)!==or.symbol){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.symbol,received:t.parsedType}),gr}return br(e.data)}}$r.create=e=>new $r({typeName:ji.ZodSymbol,...jr(e)});class zr extends Ar{_parse(e){if(this._getType(e)!==or.undefined){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.undefined,received:t.parsedType}),gr}return br(e.data)}}zr.create=e=>new zr({typeName:ji.ZodUndefined,...jr(e)});class Ur extends Ar{_parse(e){if(this._getType(e)!==or.null){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.null,received:t.parsedType}),gr}return br(e.data)}}Ur.create=e=>new Ur({typeName:ji.ZodNull,...jr(e)});class Wr extends Ar{constructor(){super(...arguments),this._any=!0}_parse(e){return br(e.data)}}Wr.create=e=>new Wr({typeName:ji.ZodAny,...jr(e)});class Vr extends Ar{constructor(){super(...arguments),this._unknown=!0}_parse(e){return br(e.data)}}Vr.create=e=>new Vr({typeName:ji.ZodUnknown,...jr(e)});class Hr extends Ar{_parse(e){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.never,received:t.parsedType}),gr}}Hr.create=e=>new Hr({typeName:ji.ZodNever,...jr(e)});class Xr extends Ar{_parse(e){if(this._getType(e)!==or.undefined){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.void,received:t.parsedType}),gr}return br(e.data)}}Xr.create=e=>new Xr({typeName:ji.ZodVoid,...jr(e)});class Yr extends Ar{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==or.array)return mr(t,{code:ur.invalid_type,expected:or.array,received:t.parsedType}),gr;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(mr(t,{code:e?ur.too_big:ur.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(mr(t,{code:ur.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(mr(t,{code:ur.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Or(t,e,t.path,n))))).then((e=>yr.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new Or(t,e,t.path,n))));return yr.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new Yr({...this._def,minLength:{value:e,message:Sr.toString(t)}})}max(e,t){return new Yr({...this._def,maxLength:{value:e,message:Sr.toString(t)}})}length(e,t){return new Yr({...this._def,exactLength:{value:e,message:Sr.toString(t)}})}nonempty(e){return this.min(1,e)}}function Gr(e){if(e instanceof Jr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=yi.create(Gr(r))}return new Jr({...e._def,shape:()=>t})}return e instanceof Yr?new Yr({...e._def,type:Gr(e.element)}):e instanceof yi?yi.create(Gr(e.unwrap())):e instanceof gi?gi.create(Gr(e.unwrap())):e instanceof ii?ii.create(e.items.map((e=>Gr(e)))):e}Yr.create=(e,t)=>new Yr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ji.ZodArray,...jr(t)});class Jr extends Ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=ar.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==or.object){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.object,received:t.parsedType}),gr}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Hr&&"strip"===this._def.unknownKeys))for(const e in n.data)i.includes(e)||a.push(e);const s=[];for(const e of i){const t=r[e],i=n.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new Or(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Hr){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)a.length>0&&(mr(n,{code:ur.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new Or(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>yr.mergeObjectSync(t,e))):yr.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return Sr.errToObj,new Jr({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,a,s;const o=null!==(a=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=Sr.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new Jr({...this._def,unknownKeys:"strip"})}passthrough(){return new Jr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Jr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Jr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ji.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Jr({...this._def,catchall:e})}pick(e){const t={};return ar.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new Jr({...this._def,shape:()=>t})}omit(e){const t={};return ar.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new Jr({...this._def,shape:()=>t})}deepPartial(){return Gr(this)}partial(e){const t={};return ar.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new Jr({...this._def,shape:()=>t})}required(e){const t={};return ar.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof yi;)e=e._def.innerType;t[n]=e}})),new Jr({...this._def,shape:()=>t})}keyof(){return di(ar.objectKeys(this.shape))}}Jr.create=(e,t)=>new Jr({shape:()=>e,unknownKeys:"strip",catchall:Hr.create(),typeName:ji.ZodObject,...jr(t)}),Jr.strictCreate=(e,t)=>new Jr({shape:()=>e,unknownKeys:"strict",catchall:Hr.create(),typeName:ji.ZodObject,...jr(t)}),Jr.lazycreate=(e,t)=>new Jr({shape:e,unknownKeys:"strip",catchall:Hr.create(),typeName:ji.ZodObject,...jr(t)});class Qr extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new lr(e.ctx.common.issues)));return mr(t,{code:ur.invalid_union,unionErrors:n}),gr}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new lr(e)));return mr(t,{code:ur.invalid_union,unionErrors:i}),gr}}get options(){return this._def.options}}Qr.create=(e,t)=>new Qr({options:e,typeName:ji.ZodUnion,...jr(t)});const ei=e=>e instanceof ui?ei(e.schema):e instanceof mi?ei(e.innerType()):e instanceof li?[e.value]:e instanceof hi?e.options:e instanceof fi?Object.keys(e.enum):e instanceof vi?ei(e._def.innerType):e instanceof zr?[void 0]:e instanceof Ur?[null]:null;class ti extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==or.object)return mr(t,{code:ur.invalid_type,expected:or.object,received:t.parsedType}),gr;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(mr(t,{code:ur.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),gr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=ei(n.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new ti({typeName:ji.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...jr(n)})}}function ni(e,t){const n=cr(e),r=cr(t);if(e===t)return{valid:!0,data:e};if(n===or.object&&r===or.object){const n=ar.objectKeys(t),r=ar.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const n of r){const r=ni(e[n],t[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}if(n===or.array&&r===or.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=ni(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===or.date&&r===or.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ri extends Ar{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(_r(e)||_r(r))return gr;const i=ni(e.value,r.value);return i.valid?((wr(e)||wr(r))&&t.dirty(),{status:t.value,value:i.data}):(mr(n,{code:ur.invalid_intersection_types}),gr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ri.create=(e,t,n)=>new ri({left:e,right:t,typeName:ji.ZodIntersection,...jr(n)});class ii extends Ar{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==or.array)return mr(n,{code:ur.invalid_type,expected:or.array,received:n.parsedType}),gr;if(n.data.length<this._def.items.length)return mr(n,{code:ur.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gr;!this._def.rest&&n.data.length>this._def.items.length&&(mr(n,{code:ur.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Or(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>yr.mergeArray(t,e))):yr.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ii({...this._def,rest:e})}}ii.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ii({items:e,typeName:ji.ZodTuple,rest:null,...jr(t)})};class ai extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==or.object)return mr(n,{code:ur.invalid_type,expected:or.object,received:n.parsedType}),gr;const r=[],i=this._def.keyType,a=this._def.valueType;for(const e in n.data)r.push({key:i._parse(new Or(n,e,n.path,e)),value:a._parse(new Or(n,n.data[e],n.path,e))});return n.common.async?yr.mergeObjectAsync(t,r):yr.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new ai(t instanceof Ar?{keyType:e,valueType:t,typeName:ji.ZodRecord,...jr(n)}:{keyType:Br.create(),valueType:e,typeName:ji.ZodRecord,...jr(t)})}}class si extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==or.map)return mr(n,{code:ur.invalid_type,expected:or.map,received:n.parsedType}),gr;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map((([e,t],a)=>({key:r._parse(new Or(n,e,n.path,[a,"key"])),value:i._parse(new Or(n,t,n.path,[a,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return gr;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return gr;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}si.create=(e,t,n)=>new si({valueType:t,keyType:e,typeName:ji.ZodMap,...jr(n)});class oi extends Ar{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==or.set)return mr(n,{code:ur.invalid_type,expected:or.set,received:n.parsedType}),gr;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(mr(n,{code:ur.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(mr(n,{code:ur.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return gr;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>i._parse(new Or(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>a(e))):a(s)}min(e,t){return new oi({...this._def,minSize:{value:e,message:Sr.toString(t)}})}max(e,t){return new oi({...this._def,maxSize:{value:e,message:Sr.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}oi.create=(e,t)=>new oi({valueType:e,minSize:null,maxSize:null,typeName:ji.ZodSet,...jr(t)});class ci extends Ar{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==or.function)return mr(t,{code:ur.invalid_type,expected:or.function,received:t.parsedType}),gr;function n(e,n){return pr({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,fr(),dr].filter((e=>!!e)),issueData:{code:ur.invalid_arguments,argumentsError:n}})}function r(e,n){return pr({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,fr(),dr].filter((e=>!!e)),issueData:{code:ur.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof pi){const e=this;return br((async function(...t){const s=new lr([]),o=await e._def.args.parseAsync(t,i).catch((e=>{throw s.addIssue(n(t,e)),s})),c=await Reflect.apply(a,this,o),u=await e._def.returns._def.type.parseAsync(c,i).catch((e=>{throw s.addIssue(r(c,e)),s}));return u}))}{const e=this;return br((function(...t){const s=e._def.args.safeParse(t,i);if(!s.success)throw new lr([n(t,s.error)]);const o=Reflect.apply(a,this,s.data),c=e._def.returns.safeParse(o,i);if(!c.success)throw new lr([r(o,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ci({...this._def,args:ii.create(e).rest(Vr.create())})}returns(e){return new ci({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new ci({args:e||ii.create([]).rest(Vr.create()),returns:t||Vr.create(),typeName:ji.ZodFunction,...jr(n)})}}class ui extends Ar{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ui.create=(e,t)=>new ui({getter:e,typeName:ji.ZodLazy,...jr(t)});class li extends Ar{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return mr(t,{received:t.data,code:ur.invalid_literal,expected:this._def.value}),gr}return{status:"valid",value:e.data}}get value(){return this._def.value}}function di(e,t){return new hi({values:e,typeName:ji.ZodEnum,...jr(t)})}li.create=(e,t)=>new li({value:e,typeName:ji.ZodLiteral,...jr(t)});class hi extends Ar{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return mr(t,{expected:ar.joinValues(n),received:t.parsedType,code:ur.invalid_type}),gr}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return mr(t,{received:t.data,code:ur.invalid_enum_value,options:n}),gr}return br(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return hi.create(e)}exclude(e){return hi.create(this.options.filter((t=>!e.includes(t))))}}hi.create=di;class fi extends Ar{_parse(e){const t=ar.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==or.string&&n.parsedType!==or.number){const e=ar.objectValues(t);return mr(n,{expected:ar.joinValues(e),received:n.parsedType,code:ur.invalid_type}),gr}if(-1===t.indexOf(e.data)){const e=ar.objectValues(t);return mr(n,{received:n.data,code:ur.invalid_enum_value,options:e}),gr}return br(e.data)}get enum(){return this._def.values}}fi.create=(e,t)=>new fi({values:e,typeName:ji.ZodNativeEnum,...jr(t)});class pi extends Ar{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==or.promise&&!1===t.common.async)return mr(t,{code:ur.invalid_type,expected:or.promise,received:t.parsedType}),gr;const n=t.parsedType===or.promise?t.data:Promise.resolve(t.data);return br(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}pi.create=(e,t)=>new pi({type:e,typeName:ji.ZodPromise,...jr(t)});class mi extends Ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ji.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{mr(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?gr:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?gr:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!xr(e))return e;const a=r.transform(e.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>xr(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}ar.assertNever(r)}}mi.create=(e,t,n)=>new mi({schema:e,typeName:ji.ZodEffects,effect:t,...jr(n)}),mi.createWithPreprocess=(e,t,n)=>new mi({schema:t,effect:{type:"preprocess",transform:e},typeName:ji.ZodEffects,...jr(n)});class yi extends Ar{_parse(e){return this._getType(e)===or.undefined?br(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yi.create=(e,t)=>new yi({innerType:e,typeName:ji.ZodOptional,...jr(t)});class gi extends Ar{_parse(e){return this._getType(e)===or.null?br(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gi.create=(e,t)=>new gi({innerType:e,typeName:ji.ZodNullable,...jr(t)});class vi extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===or.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}vi.create=(e,t)=>new vi({innerType:e,typeName:ji.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...jr(t)});class bi extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return kr(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new lr(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new lr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}bi.create=(e,t)=>new bi({innerType:e,typeName:ji.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...jr(t)});class _i extends Ar{_parse(e){if(this._getType(e)!==or.nan){const t=this._getOrReturnCtx(e);return mr(t,{code:ur.invalid_type,expected:or.nan,received:t.parsedType}),gr}return{status:"valid",value:e.data}}}_i.create=e=>new _i({typeName:ji.ZodNaN,...jr(e)});const wi=Symbol("zod_brand");class xi extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class ki extends Ar{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?gr:"dirty"===e.status?(t.dirty(),vr(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?gr:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new ki({in:e,out:t,typeName:ji.ZodPipeline})}}class Si extends Ar{_parse(e){const t=this._def.innerType._parse(e);return xr(t)&&(t.value=Object.freeze(t.value)),t}}Si.create=(e,t)=>new Si({innerType:e,typeName:ji.ZodReadonly,...jr(t)});const Oi=(e,t={},n)=>e?Wr.create().superRefine(((r,i)=>{var a,s;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===s||s,c="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...c,fatal:o})}})):Wr.create(),Ei={object:Jr.lazycreate};var ji;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ji||(ji={}));const Ai=Br.create,Ti=Mr.create,Pi=_i.create,Ci=Fr.create,Ii=Lr.create,Ni=qr.create,Ri=$r.create,Di=zr.create,Zi=Ur.create,Bi=Wr.create,Ki=Vr.create,Mi=Hr.create,Fi=Xr.create,Li=Yr.create,qi=Jr.create,$i=Jr.strictCreate,zi=Qr.create,Ui=ti.create,Wi=ri.create,Vi=ii.create,Hi=ai.create,Xi=si.create,Yi=oi.create,Gi=ci.create,Ji=ui.create,Qi=li.create,ea=hi.create,ta=fi.create,na=pi.create,ra=mi.create,ia=yi.create,aa=gi.create,sa=mi.createWithPreprocess,oa=ki.create,ca={string:e=>Br.create({...e,coerce:!0}),number:e=>Mr.create({...e,coerce:!0}),boolean:e=>Lr.create({...e,coerce:!0}),bigint:e=>Fr.create({...e,coerce:!0}),date:e=>qr.create({...e,coerce:!0})},ua=gr;var la=Object.freeze({__proto__:null,defaultErrorMap:dr,setErrorMap:function(e){hr=e},getErrorMap:fr,makeIssue:pr,EMPTY_PATH:[],addIssueToContext:mr,ParseStatus:yr,INVALID:gr,DIRTY:vr,OK:br,isAborted:_r,isDirty:wr,isValid:xr,isAsync:kr,get util(){return ar},get objectUtil(){return sr},ZodParsedType:or,getParsedType:cr,ZodType:Ar,ZodString:Br,ZodNumber:Mr,ZodBigInt:Fr,ZodBoolean:Lr,ZodDate:qr,ZodSymbol:$r,ZodUndefined:zr,ZodNull:Ur,ZodAny:Wr,ZodUnknown:Vr,ZodNever:Hr,ZodVoid:Xr,ZodArray:Yr,ZodObject:Jr,ZodUnion:Qr,ZodDiscriminatedUnion:ti,ZodIntersection:ri,ZodTuple:ii,ZodRecord:ai,ZodMap:si,ZodSet:oi,ZodFunction:ci,ZodLazy:ui,ZodLiteral:li,ZodEnum:hi,ZodNativeEnum:fi,ZodPromise:pi,ZodEffects:mi,ZodTransformer:mi,ZodOptional:yi,ZodNullable:gi,ZodDefault:vi,ZodCatch:bi,ZodNaN:_i,BRAND:wi,ZodBranded:xi,ZodPipeline:ki,ZodReadonly:Si,custom:Oi,Schema:Ar,ZodSchema:Ar,late:Ei,get ZodFirstPartyTypeKind(){return ji},coerce:ca,any:Bi,array:Li,bigint:Ci,boolean:Ii,date:Ni,discriminatedUnion:Ui,effect:ra,enum:ea,function:Gi,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Oi((t=>t instanceof e),t),intersection:Wi,lazy:Ji,literal:Qi,map:Xi,nan:Pi,nativeEnum:ta,never:Mi,null:Zi,nullable:aa,number:Ti,object:qi,oboolean:()=>Ii().optional(),onumber:()=>Ti().optional(),optional:ia,ostring:()=>Ai().optional(),pipeline:oa,preprocess:sa,promise:na,record:Hi,set:Yi,strictObject:$i,string:Ai,symbol:Ri,transformer:ra,tuple:Vi,undefined:Di,union:zi,unknown:Ki,void:Fi,NEVER:ua,ZodIssueCode:ur,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:lr});const da=la.union([la.literal(0),la.literal(1)]),ha=(la.object({billing_plan_id:la.number(),email:la.string().nullable(),email_status:da,is_premium:da,last_reset:la.string(),loc_hash:la.string(),loc_rev:la.number(),our_ip:da.optional(),premium_expiry_date:la.string().optional(),rebill:da.optional(),reg_date:la.number(),session_auth_hash:la.string(),status:la.number(),traffic_max:la.number(),traffic_used:la.number(),user_id:la.string(),username:la.string(),error:la.null()}),la.boolean()),fa=(la.object({reducer:la.literal("WS_DATA_locationLoadEnabled"),state:ha}),la.object({reducer:la.literal("WS_DATA_allowSystemNotifications"),state:ha}),la.object({reducer:la.literal("WS_DATA_showDebugContextMenu"),state:ha}),la.object({reducer:la.literal("WS_DATA_workerBlockEnabled"),state:ha}),la.object({reducer:la.literal("WS_DATA_splitPersonalityEnabled"),state:ha}),la.object({reducer:la.literal("WS_DATA_languageSwitchEnabled"),state:ha}),la.object({reducer:la.literal("WS_DATA_proxyTimeEnabled"),state:ha}),la.object({reducer:la.literal("WS_DATA_locationSpooferEnabled"),state:ha}),la.object({reducer:la.literal("WS_DATA_webRTCEnabled"),state:ha}),la.object({reducer:la.literal("WS_DATA_notificationBlockerEnabled"),state:ha}),la.object({reducer:la.literal("WS_DATA_blockListsEnabled"),state:la.array(la.string())}),la.object({reducer:la.literal("WS_DATA_smokewall"),state:la.boolean()}),la.object({reducer:la.literal("WS_DATA_autoConnect"),state:la.boolean()}),la.object({reducer:la.literal("WS_DATA_proxyPort"),state:la.enum(["443","9443"])}),la.object({reducer:la.literal("WS_DATA_failover"),state:la.enum(["Auto / Best","Same Country","None"])}),la.object({reducer:la.literal("WS_DATA_theme"),state:la.enum(["light","dark"])})),pa=(la.object({reducer:la.literal("WS_DATA_firstInstallDate"),state:la.number()}),la.string().optional()),ma=la.object({allowAds:la.boolean().optional(),allowCookies:la.boolean().optional(),allowDirectConnect:la.boolean().optional(),domain:la.string().optional(),includeAllSubdomains:la.boolean().optional(),addedBy:pa}),ya=(la.object({reducer:la.literal("WS_DATA_allowlist"),state:la.array(la.intersection(ma,la.record(la.string(),la.union([ma,la.string(),la.boolean()]))))}),la.object({reducer:la.literal("WS_DATA_locationSorting"),state:la.enum(["alphabet","geography"])}),la.object({reducer:la.literal("WS_DATA_newsfeedIdsAlreadyViewed"),state:la.array(la.number())}),la.object({dataCenterId:la.number().optional(),gps:la.string().optional(),name:la.string().optional(),nickname:la.string().optional(),hosts:la.array(la.string()).optional(),countryCode:la.string().optional(),isCenterPro:la.boolean().optional(),locationId:la.number().optional(),health:la.number().optional()})),ga=(la.object({reducer:la.literal("WS_DATA_favoriteLocations"),state:la.array(ya)}),la.object({name:la.string().optional().nullable(),locationId:la.number().optional().nullable(),dataCenterId:la.number().optional().nullable()})),va=(la.object({reducer:la.literal("WS_DATA_currentLocation"),state:ga}),la.object({reducer:la.literal("WS_DATA_proxy"),state:la.object({status:la.string()})}),la.literal("WS_DATA_userStashes")),ba=(la.object({reducer:va,state:la.record(la.string(),la.any())}),la.object({reducer:va,state:la.record(la.string(),la.object({locationLoadEnabled:la.boolean()}))}),la.object({reducer:va,state:la.record(la.object({allowSystemNotifications:la.boolean()}))}),la.object({reducer:va,state:la.record(la.string(),la.object({workerBlockEnabled:la.boolean()}))}),la.object({reducer:va,state:la.record(la.string(),la.object({splitPersonalityEnabled:la.boolean()}))}),la.object({reducer:va,state:la.record(la.string(),la.object({languageSwitchEnabled:la.boolean()}))}),la.object({reducer:va,state:la.record(la.string(),la.object({proxyTimeEnabled:la.boolean()}))}),la.object({reducer:va,state:la.record(la.string(),la.object({locationSpooferEnabled:la.boolean()}))}),la.object({reducer:va,state:la.record(la.string(),la.object({webRTCEnabled:la.boolean()}))}),la.object({reducer:va,state:la.record(la.string(),la.object({notificationBlockerEnabled:la.boolean()}))}),la.object({reducer:va,state:la.record(la.string(),la.object({autoConnect:la.boolean()}))}),la.object({reducer:va,state:la.record(la.string(),la.object({theme:la.enum(["light","dark"])}))}),la.object({reducer:va,state:la.record(la.string(),la.object({newsfeedIdsAlreadyViewed:la.array(la.number())}))}),la.object({reducer:va,state:la.record(la.string(),la.object({favoriteLocations:la.array(ya)}))}),la.object({reducer:va,state:la.record(la.string(),la.object({currentLocation:ga}))}),la.object({reducer:va,state:la.record(la.string(),la.object({allowlist:la.array(la.intersection(ma,la.record(la.string(),la.union([ma,la.string(),la.boolean()]))))}))}),la.object({reducer:va,state:la.record(la.string(),la.object({blockListsEnabled:la.array(la.string())}))}),la.object({contextMenu:la.boolean(),locationLoad:la.boolean(),allowSystemNotifications:la.boolean(),connectionState:la.object({smokeWall:la.boolean(),failover:la.enum(["Auto / Best","Same Country","None"]),autoConnect:la.boolean()}).strict().required(),proxyPort:la.union([la.literal(443),la.literal(9443)]),blockLists:la.array(la.enum(["default","annoyances-social","annoyances-cookies"])).refine((e=>new Set(e).size===e.length),{message:"Elements must be unique"}),languageWarpEnabled:la.boolean(),locationWarp:la.boolean(),workerBlock:la.boolean(),timeWarpEnabled:la.boolean(),webRtcEnabled:la.boolean(),splitPersonalityEnabled:la.boolean(),notificationBlockerEnabled:la.boolean(),adPrivacyEnabled:la.boolean(),allowlist:la.record(la.string(),la.object({allowAds:la.boolean(),allowPrivacyFeatures:la.boolean(),allowDirectConnections:la.boolean(),includeAllSubdomains:la.boolean(),addedBy:pa}).strict()),theme:la.enum(["light","dark"]),favoriteLocations:la.array(la.number().nonnegative()).refine((e=>new Set(e).size===e.length),{message:"Favorite locations must be unique"}),locationSorting:la.enum(["alphabet","geography"])}).partial()),_a=(la.object({data:ba,schema_version:la.literal(1)}),[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map((e=>[e.name,e]))),wa=new Map(_a);Error;const xa=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],ka=new WeakSet,Sa=e=>wa.get(e)??Error,Oa=({from:e,seen:t,to:n,forceEnumerable:r,maxDepth:i,depth:a,useToJSON:s,serialize:o})=>{if(!n)if(Array.isArray(e))n=[];else if(!o&&ja(e)){n=new(Sa(e.name))}else n={};if(t.push(e),a>=i)return n;if(s&&"function"==typeof e.toJSON&&!ka.has(e))return(e=>{ka.add(e);const t=e.toJSON();return ka.delete(e),t})(e);const c=e=>Oa({from:e,seen:[...t],forceEnumerable:r,maxDepth:i,depth:a,useToJSON:s,serialize:o});for(const[r,i]of Object.entries(e))if(i&&i instanceof Uint8Array&&"Buffer"===i.constructor.name)n[r]="[object Buffer]";else if(null===i||"object"!=typeof i||"function"!=typeof i.pipe){if("function"!=typeof i)if(i&&"object"==typeof i)t.includes(e[r])?n[r]="[Circular]":(a++,n[r]=c(e[r]));else try{n[r]=i}catch{}}else n[r]="[object Stream]";for(const{property:t,enumerable:i}of xa)void 0!==e[t]&&null!==e[t]&&Object.defineProperty(n,t,{value:ja(e[t])?c(e[t]):e[t],enumerable:!!r||i,configurable:!0,writable:!0});return n};function Ea(e,t={}){const{maxDepth:n=Number.POSITIVE_INFINITY,useToJSON:r=!0}=t;return"object"==typeof e&&null!==e?Oa({from:e,seen:[],forceEnumerable:!0,maxDepth:n,depth:0,useToJSON:r,serialize:!0}):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e}function ja(e){return Boolean(e)&&"object"==typeof e&&"name"in e&&"message"in e&&"stack"in e}const Aa={subscribeOnStorageChange(e){chrome.storage.onChanged.addListener(e)},getStateFromStorage:async()=>await chrome.storage.local.get("1"),clearStateInStorage:async()=>await chrome.storage.local.clear(),saveStateInStorage:async e=>await chrome.storage.local.set({1:e}),runtime:{sendMessage(e,t){chrome.runtime.sendMessage(e,t)},onMessage:{addListener(e){chrome.runtime.onMessage.addListener(e)}},onStartup:{addListener(e){chrome.runtime.onStartup.addListener(e)}}}};function Ta(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Pa(e){return!!e&&!!e[vs]}function Ca(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===bs}(e)||Array.isArray(e)||!!e[gs]||!!e.constructor[gs]||Ka(e)||Ma(e))}function Ia(e,t,n){void 0===n&&(n=!1),0===Na(e)?(n?Object.keys:_s)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Na(e){var t=e[vs];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Ka(e)?2:Ma(e)?3:0}function Ra(e,t){return 2===Na(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Da(e,t){return 2===Na(e)?e.get(t):e[t]}function Za(e,t,n){var r=Na(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Ba(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Ka(e){return fs&&e instanceof Map}function Ma(e){return ps&&e instanceof Set}function Fa(e){return e.o||e.t}function La(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ws(e);delete t[vs];for(var n=_s(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function qa(e,t){return void 0===t&&(t=!1),za(e)||Pa(e)||!Ca(e)||(Na(e)>1&&(e.set=e.add=e.clear=e.delete=$a),Object.freeze(e),t&&Ia(e,(function(e,t){return qa(t,!0)}),!0)),e}function $a(){Ta(2)}function za(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Ua(e){var t=xs[e];return t||Ta(18,e),t}function Wa(e,t){xs[e]||(xs[e]=t)}function Va(){return ds}function Ha(e,t){t&&(Ua("Patches"),e.u=[],e.s=[],e.v=t)}function Xa(e){Ya(e),e.p.forEach(Ja),e.p=null}function Ya(e){e===ds&&(ds=e.l)}function Ga(e){return ds={p:[],l:ds,h:e,m:!0,_:0}}function Ja(e){var t=e[vs];0===t.i||1===t.i?t.j():t.O=!0}function Qa(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Ua("ES5").S(t,e,r),r?(n[vs].P&&(Xa(t),Ta(4)),Ca(e)&&(e=es(t,e),t.l||ns(t,e)),t.u&&Ua("Patches").M(n[vs].t,e,t.u,t.s)):e=es(t,n,[]),Xa(t),t.u&&t.v(t.u,t.s),e!==ys?e:void 0}function es(e,t,n){if(za(t))return t;var r=t[vs];if(!r)return Ia(t,(function(i,a){return ts(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ns(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=La(r.k):r.o;Ia(3===r.i?new Set(i):i,(function(t,a){return ts(e,r,i,t,a,n)})),ns(e,i,!1),n&&e.u&&Ua("Patches").R(r,n,e.u,e.s)}return r.o}function ts(e,t,n,r,i,a){if(Pa(i)){var s=es(e,i,a&&t&&3!==t.i&&!Ra(t.D,r)?a.concat(r):void 0);if(Za(n,r,s),!Pa(s))return;e.m=!1}if(Ca(i)&&!za(i)){if(!e.h.F&&e._<1)return;es(e,i),t&&t.A.l||ns(e,i)}}function ns(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&qa(t,n)}function rs(e,t){var n=e[vs];return(n?Fa(n):e)[t]}function is(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function as(e){e.P||(e.P=!0,e.l&&as(e.l))}function ss(e){e.o||(e.o=La(e.t))}function os(e,t,n){var r=Ka(t)?Ua("MapSet").N(t,n):Ma(t)?Ua("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Va(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=ks;n&&(i=[r],a=Ss);var s=Proxy.revocable(i,a),o=s.revoke,c=s.proxy;return r.k=c,r.j=o,c}(t,n):Ua("ES5").J(t,n);return(n?n.A:Va()).p.push(r),r}function cs(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return La(e)}function us(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[vs];return ks.get(t,e)},set:function(t){var n=this[vs];ks.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][vs];if(!i.P)switch(i.i){case 5:r(i)&&as(i);break;case 4:n(i)&&as(i)}}}function n(e){for(var t=e.t,n=e.k,r=_s(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==vs){var s=t[a];if(void 0===s&&!Ra(t,a))return!0;var o=n[a],c=o&&o[vs];if(c?c.t!==s:!Ba(o,s))return!0}}var u=!!t[vs];return r.length!==_s(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Wa("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=ws(n);delete a[vs];for(var s=_s(a),o=0;o<s.length;o++){var c=s[o];a[c]=e(c,t||!!a[c].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Va(),P:!1,I:!1,D:{},l:n,t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,vs,{value:a,writable:!0}),i},S:function(e,n,i){i?Pa(n)&&n[vs].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[vs];if(n){var i=n.t,a=n.k,s=n.D,o=n.i;if(4===o)Ia(a,(function(t){t!==vs&&(void 0!==i[t]||Ra(i,t)?s[t]||e(a[t]):(s[t]=!0,as(n)))})),Ia(i,(function(e){void 0!==a[e]||Ra(a,e)||(s[e]=!1,as(n))}));else if(5===o){if(r(n)&&(as(n),s.length=!0),a.length<i.length)for(var c=a.length;c<i.length;c++)s[c]=!1;else for(var u=i.length;u<a.length;u++)s[u]=!0;for(var l=Math.min(a.length,i.length),d=0;d<l;d++)a.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var ls,ds,hs="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),fs="undefined"!=typeof Map,ps="undefined"!=typeof Set,ms="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ys=hs?Symbol.for("immer-nothing"):((ls={})["immer-nothing"]=!0,ls),gs=hs?Symbol.for("immer-draftable"):"__$immer_draftable",vs=hs?Symbol.for("immer-state"):"__$immer_state",bs=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),_s="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ws=Object.getOwnPropertyDescriptors||function(e){var t={};return _s(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},xs={},ks={get:function(e,t){if(t===vs)return e;var n=Fa(e);if(!Ra(n,t))return function(e,t,n){var r,i=is(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Ca(r)?r:r===rs(e.t,t)?(ss(e),e.o[t]=os(e.A.h,r,e)):r},has:function(e,t){return t in Fa(e)},ownKeys:function(e){return Reflect.ownKeys(Fa(e))},set:function(e,t,n){var r=is(Fa(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=rs(Fa(e),t),a=null==i?void 0:i[vs];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Ba(n,i)&&(void 0!==n||Ra(e.t,t)))return!0;ss(e),as(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==rs(e.t,t)||t in e.t?(e.D[t]=!1,ss(e),as(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Fa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Ta(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ta(12)}},Ss={};Ia(ks,(function(e,t){Ss[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ss.deleteProperty=function(e,t){return Ss.set.call(this,e,t,void 0)},Ss.set=function(e,t,n){return ks.set.call(this,e[0],t,n,e[0])};var Os=function(){function e(e){var t=this;this.g=ms,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&Ta(6),void 0!==r&&"function"!=typeof r&&Ta(7),Ca(e)){var o=Ga(t),c=os(t,e,void 0),u=!0;try{s=n(c),u=!1}finally{u?Xa(o):Ya(o)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return Ha(o,r),Qa(e,o)}),(function(e){throw Xa(o),e})):(Ha(o,r),Qa(s,o))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===ys&&(s=void 0),t.F&&qa(s,!0),r){var l=[],d=[];Ua("Patches").M(e,s,l,d),r(l,d)}return s}Ta(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Ca(e)||Ta(8),Pa(e)&&(e=function(e){return Pa(e)||Ta(22,e),function e(t){if(!Ca(t))return t;var n,r=t[vs],i=Na(t);if(r){if(!r.P&&(r.i<4||!Ua("ES5").K(r)))return r.t;r.I=!0,n=cs(t,i),r.I=!1}else n=cs(t,i);return Ia(n,(function(t,i){r&&Da(r.t,t)===i||Za(n,t,e(i))})),3===i?new Set(n):n}(e)}(e));var t=Ga(this),n=os(this,e,void 0);return n[vs].C=!0,Ya(t),n},t.finishDraft=function(e,t){var n=(e&&e[vs]).A;return Ha(n,t),Qa(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ms&&Ta(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Ua("Patches").$;return Pa(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Es=new Os,js=Es.produce;Es.produceWithPatches.bind(Es),Es.setAutoFreeze.bind(Es),Es.setUseProxies.bind(Es),Es.applyPatches.bind(Es),Es.createDraft.bind(Es),Es.finishDraft.bind(Es);const As=js;"function"==typeof Symbol&&Symbol.observable;var Ts=function(){return Math.random().toString(36).substring(7).split("").join(".")};Ts(),Ts();function Ps(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Cs,Is=(Cs=function(e,t){return Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Cs(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Cs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Ns=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Rs=Object.defineProperty,Ds=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Zs=Object.prototype.hasOwnProperty,Bs=Object.prototype.propertyIsEnumerable,Ks=function(e,t,n){return t in e?Rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ms=function(e,t){for(var n in t||(t={}))Zs.call(t,n)&&Ks(e,n,t[n]);if(Ds)for(var r=0,i=Ds(t);r<i.length;r++){n=i[r];Bs.call(t,n)&&Ks(e,n,t[n])}return e};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;!function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}Is(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Ns([void 0],e[0].concat(this)))):new(t.bind.apply(t,Ns([void 0],e.concat(this))))}}(Array);function Fs(e){return Ca(e)?As(e,(function(){})):e}function Ls(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ms(Ms({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function qs(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}Object.assign;var $s="listenerMiddleware";Ls($s+"/add"),Ls($s+"/removeAll"),Ls($s+"/remove");us();const zs=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Fs(e.initialState),i=e.reducers||{},a=Object.keys(i),s={},o={},c={};function u(){var t="function"==typeof e.extraReducers?qs(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],s=void 0===a?[]:a,c=t[2],u=void 0===c?void 0:c,l=Ms(Ms({},i),o);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"==typeof t?qs(t):[t,n,r],s=a[0],o=a[1],c=a[2];if(function(e){return"function"==typeof e}(e))i=function(){return Fs(e())};else{var u=Fs(e);i=function(){return u}}function l(e,t){void 0===e&&(e=i());var n=Ns([s[t.type]],o.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(Pa(e))return void 0===(r=n(e,t))?e:r;if(Ca(e))return As(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,s,u)}return a.forEach((function(e){var n,r,a=i[e],u=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,s[e]=n,o[u]=n,c[e]=r?Ls(u,r):Ls(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:c,caseReducers:s,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}({name:"workingApi",initialState:"windscribe.com",reducers:{setWorkingApi:(e,t)=>t.payload}}),{setWorkingApi:Us}=zs.actions;zs.reducer;n(68214);const Ws="test";let Vs=null,Hs=null;async function Xs(){if(Vs)return Vs;if(Hs)try{return await Hs}catch(e){console.error("Error waiting on existing promise",e),Hs=null}Hs=(async()=>{try{const e=await(async()=>new Promise((e=>{const t=(globalThis.window||self).indexedDB.open(Ws);t.onerror=t=>{const n=t.target.error;"A mutation operation was attempted on a database that did not allow mutations."===(null==n?void 0:n.message)&&ir?e("firefox-in-private-mode"):e("error")},t.onsuccess=()=>{const n=null==t?void 0:t.result;n?(n.close(),(globalThis.window||self).indexedDB.deleteDatabase(Ws),e("success")):e("error")}})))();if("firefox-in-private-mode"===e)return Vs=chrome.storage?.local,Vs;const t=new Xn("LogDatabase");return t.version(1).stores({logs:"++id, timestamp, date, tag, level, message, data"}),Vs=t,Vs}catch(e){throw Vs=null,e}})();try{return await Hs}finally{Hs=null}}const Ys=async e=>{const t=await Xs();try{t===chrome.storage?.local?await chrome.storage.local.set({debugLog:e}):await t.logs[Array.isArray(e)?"bulkPut":"put"](e)}catch(e){throw console.error(`Error saving data to ${isLocalStorage?"chrome.storage.local":"Dexie"}:`,e),e}};n(42238);const Gs=async e=>{try{const t={date:(new Date).toLocaleString(),tag:e.tag||"popup",level:e.level||"INFO",message:e.message,data:e.data,timestamp:Date.now()},n=await Xs();if(n instanceof Xn){await Ys(t);const e=await n.table("logs").count();if(e>rr){const t=await n.table("logs").orderBy("id").limit(Math.abs(e-rr)).toArray();if(t.length>0){const e=t.map((e=>e.id));await n.table("logs").bulkDelete(e)}}}else{const e=await(async()=>{const e=await Xs(),t=e===chrome.storage?.local;try{return t?(await chrome.storage.local.get("debugLog"))?.debugLog??[]:await e.logs.toArray()}catch(e){throw console.error(`Error getting data from ${t?"chrome.storage.local":"Dexie"}:`,e),e}})();if(e.push(t),e.length>rr){const t=e.length-rr;e.splice(0,t)}await Ys(e)}}catch(e){console.error("Error in pushToDebugLog:",e)}},Js=async e=>{try{return await chrome.runtime.sendMessage(e)}catch(e){Gs({message:"Error while sending message through runtime",level:"ERROR",data:Ea(e)})}};function Qs(e){return e instanceof Error?e.message:String(e)}async function eo({hostname:e,level:t}){try{await chrome.runtime.sendMessage({what:"setFilteringMode",hostname:e,level:t})}catch(e){await Gs({message:'Error while trying to send "setFilteringMode" message to ublock',level:"ERROR",data:Ea(e)})}}chrome.runtime.onMessage.addListener((function(e,t,n){if("offscreen"!==e.target)return!0;switch(e.type){case"migrateTheme":(async function(){const e=[];try{const t=new Xn("WS_EXT_DB");t.version(1).stores({WS_STATE:"reducer",WS_LOGS:"++id, [timestamp+activity]"});const n=await t.table("WS_STATE").get("WS_DATA_theme"),r=fa.safeParse(n);r.success?(localStorage.setItem("theme-ui-color-mode",r.data.state),e.push({level:"INFO",message:"Migrated theme",tag:"offscreen"})):e.push({level:"INFO",message:"Theme reducer not found",tag:"offscreen"})}catch(t){e.push({level:"ERROR",data:Ea(t),message:"",tag:"offscreen"})}return e})().then((e=>{n({logs:e})}));break;case"migrateBlockerSettings":case"applyBlockerSettings":if(!e.data)return n({logs:[{level:"ERROR",message:"Rulesets are undefined",tag:"offscreen",data:e.data}]}),!0;(async function(e){const t=[];t.push({level:"INFO",message:"Sending rulesSets to ublock",data:e,tag:"offscreen"});try{await Js({what:"applyRulesets",from:"popup",enabledRulesets:e}),t.push({level:"INFO",message:"Applied Rulesets",tag:"offscreen"})}catch(e){const n=Qs(e);t.push({level:"ERROR",data:Ea(e),message:n,tag:"offscreen"})}return t})(e.data).then((e=>{n({logs:e})}));break;case"migrateAllowlist":if(!e.data)return n({logs:[{level:"ERROR",message:"Collection is undefined",tag:"offscreen",data:e.data}]}),!0;(async function(e){const t=[];t.push({level:"INFO",message:"Sending allowlist items to ublock",data:e,tag:"offscreen"});try{for(const t of e)!0===(null==t?void 0:t.allowAds)&&void 0!==t.hostname&&void 0!==t.level&&await eo({hostname:t.hostname,level:t.level});t.push({level:"INFO",message:"Set Ublock filtering mode",tag:"offscreen"})}catch(e){const n=Qs(e);t.push({level:"ERROR",data:Ea(e),message:n,tag:"offscreen"})}return t})(e.data).then((e=>{n({logs:e})}));break;case"fireNoSSLRequest":(async function(e,t){return new Promise(((n,r)=>{function i(t){n(t.data),e.removeEventListener("message",i)}function a(t){r(t),e.removeEventListener("error",a)}e.addEventListener("message",i),e.addEventListener("error",a),e.postMessage(t)}))})(to,"nossl_call").then((e=>n({res:e})));break;default:console.warn(`Unexpected message type received: '${e.type}'.`)}return!0}));const to=new Worker("./checkIp.worker.js");const no=e=>{chrome.runtime.sendMessage({what:"networkChangeEvent",onlineStatus:e})};window.addEventListener("online",(()=>no(!0))),window.addEventListener("offline",(()=>no(!1)))})()})();