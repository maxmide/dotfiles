!function(){const e={},t=[['.chakra-portal .chakra-modal__content-container > section.chakra-modal__content > .chakra-modal__header:has(> .chakra-stack > a[href^="https://www.deezer.com/payment/go.php?origin=paywall_pressure"]) + button.chakra-modal__close-btn'],['[data-automation="continue-to-ads-btn"]',"","10000"],[".z_share_popover div.gap_2 > button.mt_24px.rounded_100vh + button.text_tint.disabled\\:opacity_0\\.4.h_50px"],['[data-testid="consentBanner"] > button[data-testid="banner-button"]',"","1000"],['[data-testid="consentBanner"] > button[data-testid="banner-button"]',"","1100"],['[data-testid="consentBanner"] > button[data-testid="banner-button"]',"","1200"],['[data-testid="consentBanner"] > button[data-testid="banner-button"]',"","1300"],["#web-modal button.css-1d86b5p"],['.erc-existing-profile-onboarding-modal button[class^="modal-portal__close-button"]'],["#com-onboarding-OnboardingWelcomeModal__title + div .com-a-Button--dark"],['#app > #raichuLoaderTemplate [aria-label^="Остановить"]']],o=new Map([["deezer.com",0],["moovitapp.com",1],["teller.jp",2],["bbc.com",[3,4,5,6]],["wrtn.jp",7],["crunchyroll.com",8],["abema.tv",9],["rutube.ru",10]]),r=new Map([]),n=new Map([]);function i(e="",t="",o=""){const r=s(),n=r.makeLogPrefix("trusted-click-element",e,t,o);if(""!==t){const e=r.String_split.call(t,",").map((e=>{const t=e.indexOf(":"),o=-1!==t?e.slice(0,t):e,r=o.startsWith("!"),n=r?o.slice(1):o,i=-1!==t?e.slice(t+1).trim():"";if(""===i)return;const s={not:r,type:n},c=/^\/(.+)\/(i?)$/.exec(i);if(null!==c)return s.re=new RegExp(c[1],c[2]||void 0),s;const a=i.indexOf("="),l=-1!==a?i.slice(0,a).trim():i,d=-1!==a?i.slice(a+1).trim():"";return s.re=new RegExp(`^${this.escapeRegexChars(l)}=${this.escapeRegexChars(d)}`),s})).filter((e=>void 0!==e)),o=e.some((e=>"cookie"===e.type))?s().String_split.call(document.cookie,/\s*;\s*/).map((e=>{const t=e.indexOf("=");if(0!==t)return-1===t?`${e.trim()}=`:{key:e.slice(0,t).trim(),value:e.slice(t+1).trim()}})).filter((e=>void 0!==e)):[],n=e.some((e=>"localStorage"===e.type))?function(e="localStorage"){const t=self[e],o=[];for(let e=0;e<t.length;e++){const o=t.key(e);return{key:o,value:t.getItem(o)}}return o}():[],i=(e,t)=>{for(const{key:o,value:r}of e)if(t.test(`${o}=${r}`))return!0;return!1};for(const{not:t,type:r,re:s}of e)switch(r){case"cookie":if(i(o,s)===t)return;break;case"localStorage":if(i(n,s)===t)return}}const i=(e,t=document)=>{const o=e.indexOf(" >>> ");if(-1===o)return t.querySelector(e);const r=e.slice(0,o).trim(),n=e.slice(o+5).trim(),s=t.querySelector(r);if(null===s)return null;const c=(e=>e.openOrClosedShadowRoot?e.openOrClosedShadowRoot:"object"==typeof chrome&&chrome.dom&&chrome.dom.openOrClosedShadowRoot?chrome.dom.openOrClosedShadowRoot(e):null)(s);return c&&i(n,c)},c=r.String_split.call(e,/\s*,\s*/).filter((e=>{try{i(e)}catch{return!1}return!0}));if(0===c.length)return;const a=parseInt(o,10)||1,l=Date.now(),d=l+1e4;let u=1!==c.length?l:l+a;const p=()=>{c.length=0,g.stop(),f.stop()},g=e=>{if(0===c.length)return r.uboLog(n,"Completed"),p();const t=Date.now();if(t>=d)return r.uboLog(n,"Timed out"),p();e&&f();const o=Math.max(e?d-t:u-t,1);g.timer=setTimeout((()=>{g.timer=void 0,m()}),o),r.uboLog(n,`Waiting for ${c[0]}...`)};g.stop=()=>{void 0!==g.timer&&(clearTimeout(g.timer),g.timer=void 0)};const f=()=>{void 0===f.observer&&(f.observer=new MutationObserver((()=>{void 0===f.timer&&(f.timer=setTimeout((()=>{f.timer=void 0,m()}),20))})),f.observer.observe(document,{attributes:!0,childList:!0,subtree:!0}))};f.stop=()=>{void 0!==f.timer&&(clearTimeout(f.timer),f.timer=void 0),f.observer&&(f.observer.disconnect(),f.observer=void 0)};const m=()=>{if(g.stop(),Date.now()<u)return g();const e=c.shift();if(void 0===e)return p();const t=i(e);if(null===t)return c.unshift(e),g(!0);r.uboLog(n,`Clicked ${e}`),t.click(),u+=a,g()};!function(e){if(document.documentElement)return void e();const t=new MutationObserver((()=>{t.disconnect(),e()}));t.observe(document,{childList:!0})}(m)}function s(){if(e.safeSelf)return e.safeSelf;const t=globalThis,o={Array_from:Array.from,Error:t.Error,Function_toStringFn:t.Function.prototype.toString,Function_toString:e=>o.Function_toStringFn.call(e),Math_floor:Math.floor,Math_max:Math.max,Math_min:Math.min,Math_random:Math.random,Object,Object_defineProperty:Object.defineProperty.bind(Object),Object_defineProperties:Object.defineProperties.bind(Object),Object_fromEntries:Object.fromEntries.bind(Object),Object_getOwnPropertyDescriptor:Object.getOwnPropertyDescriptor.bind(Object),RegExp:t.RegExp,RegExp_test:t.RegExp.prototype.test,RegExp_exec:t.RegExp.prototype.exec,Request_clone:t.Request.prototype.clone,String_fromCharCode:String.fromCharCode,String_split:String.prototype.split,XMLHttpRequest:t.XMLHttpRequest,addEventListener:t.EventTarget.prototype.addEventListener,removeEventListener:t.EventTarget.prototype.removeEventListener,fetch:t.fetch,JSON:t.JSON,JSON_parseFn:t.JSON.parse,JSON_stringifyFn:t.JSON.stringify,JSON_parse:(...e)=>o.JSON_parseFn.call(o.JSON,...e),JSON_stringify:(...e)=>o.JSON_stringifyFn.call(o.JSON,...e),log:console.log.bind(console),logLevel:0,makeLogPrefix(...e){return this.sendToLogger&&`[${e.join(" ⁝ ")}]`||""},uboLog(...e){if(void 0!==this.sendToLogger&&void 0!==e&&""!==e[0])return this.sendToLogger("info",...e)},uboErr(...e){if(void 0!==this.sendToLogger&&void 0!==e&&""!==e[0])return this.sendToLogger("error",...e)},escapeRegexChars:e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),initPattern(e,t={}){if(""===e)return{matchAll:!0,expect:!0};const o=!0!==t.canNegate||!1===e.startsWith("!");!1===o&&(e=e.slice(1));const r=/^\/(.+)\/([gimsu]*)$/.exec(e);return null!==r?{re:new this.RegExp(r[1],r[2]||t.flags),expect:o}:void 0!==t.flags?{re:new this.RegExp(this.escapeRegexChars(e),t.flags),expect:o}:{pattern:e,expect:o}},testPattern(e,t){return!!e.matchAll||(e.re?this.RegExp_test.call(e.re,t)===e.expect:t.includes(e.pattern)===e.expect)},patternToRegex(e,t,o=!1){if(""===e)return/^/;const r=/^\/(.+)\/([gimsu]*)$/.exec(e);if(null===r){const r=this.escapeRegexChars(e);return new RegExp(o?`^${r}$`:r,t)}try{return new RegExp(r[1],r[2]||void 0)}catch{}return/^/},getExtraArgs(e,t=0){const o=e.slice(t).reduce(((e,t,o,r)=>{if(0==(1&o)){const t=r[o+1],n=/^\d+$/.test(t)?parseInt(t,10):t;e.push([r[o],n])}return e}),[]);return this.Object_fromEntries(o)},onIdle:(e,o)=>t.requestIdleCallback?t.requestIdleCallback(e,o):t.requestAnimationFrame(e),offIdle:e=>t.requestIdleCallback?t.cancelIdleCallback(e):t.cancelAnimationFrame(e)};if(e.safeSelf=o,void 0===e.bcSecret)return o;o.logLevel=e.logLevel||1;let r="",n="",i=0;o.toLogText=(e,...t)=>{if(0===t.length)return;const o=`[${document.location.hostname||document.location.href}]${t.join(" ")}`;return o===n&&e===r&&Date.now()-i<5e3?void 0:(r=e,n=o,i=Date.now(),o)};try{const r=new t.BroadcastChannel(e.bcSecret);let n=[];o.sendToLogger=(e,...t)=>{const i=o.toLogText(e,...t);if(void 0!==i)return void 0===n?r.postMessage({what:"messageToLogger",type:e,text:i}):void n.push({type:e,text:i})},r.onmessage=e=>{switch(e.data){case"iamready!":if(void 0===n)break;n.forEach((({type:e,text:t})=>r.postMessage({what:"messageToLogger",type:e,text:t}))),n=void 0;break;case"setScriptletLogLevelToOne":o.logLevel=1;break;case"setScriptletLogLevelToTwo":o.logLevel=2}},r.postMessage("areyouready?")}catch{o.sendToLogger=(e,...t)=>{const r=o.toLogText(e,...t);void 0!==r&&o.log(`uBO ${r}`)}}return o}const c=[];try{let e=document.location.origin;if("null"===e){const t=document.location.ancestorOrigins;for(let o=0;o<t.length&&(e=t[o],"null"===e);o++);}const t=e.lastIndexOf("://");if(-1===t)return;c.push(...e.slice(t+3).split("."))}catch(e){}const a=c.length;if(0===a)return;const l=new Set,d=[];if(0!==n.size){for(let e=0;e<a;e++){const t=c.slice(e).join("."),o=n.get(t);o&&d.push(...o)}n.clear()}if(0!==o.size){const e=e=>{let t=o.get(e);if(void 0!==t){"number"==typeof t&&(t=[t]);for(const e of t)d.includes(e)||l.add(e)}};for(let t=0;t<a;t++)e(c.slice(t).join("."));e("*"),o.clear()}if(0!==r.size){const e=a-1;for(let t=0;t<e;t++)for(let o=e;o>t;o--){const e=c.slice(t,o).join(".");let n=r.get(e);if(void 0!==n){"number"==typeof n&&(n=[n]);for(const e of n)d.includes(e)||l.add(e)}}r.clear()}for(const e of l)try{i(...t[e])}catch(e){}t.length=0}();